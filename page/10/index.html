<!DOCTYPE html><html lang="lang"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="잘정리하자"><meta name="keywords" content><meta name="author" content="bymin"><meta name="copyright" content="bymin"><title>bymin | 젊은광대 기술블로그</title><link rel="shortcut icon" href="../../melody-favicon.ico"><link rel="stylesheet" href="../../css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="../../img/avatar.png"></div><div class="author-info__name text-center">bymin</div><div class="author-info__description text-center">잘정리하자</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="../../archives"><span class="pull-left">Articles</span><span class="pull-right">109</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="../../index.html">젊은광대 기술블로그</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">젊은광대 기술블로그</div><div id="site-sub-title">bymin</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="../../2011/03/2011-03-04-RBO/">오라클 RBO 에 대한 설명</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2011-03-04</time><div class="content"><p>RBO 란 (Rule-Based Optimizer) 의 약자로<br>하나의 SQL에 대한 여러 개의 execution plan 가운데 가장 높은 순위의 execution plan을 항상 사용하도록 하는 법입니다. (Rank Rule 사용.)</p>
<ul>
<li>경험적으로 순위가 매겨진 오퍼레이션에 기초한 실행계획을 선택합니다.</li>
<li>SQL 문을 실행하기 위한 방법이 하나 이상있다면, 규칙기준 접근 방식은 순위가 높은 오퍼레이션을 이용합니다.</li>
<li>순위가 높은 오퍼레이션은 순위가 낮은 오퍼레이션보다 빨리 실행됩니다.</li>
<li>수립될 실행계획이 예측 가능하기 때문에 사용자가 원하는 처리 경로로 유도하기 쉽습니다.</li>
</ul>
<p>다만 오라클 10G 부터는 RBO 에 대한 지원 자체가 중단되었기 때문에<br>그로 인해 우리 서버의 경우 DBA가 자체적으로 ‘통계’ 수집작업을 하도록 결정되었습니다.</p>
<p>통계내역은 이주 월요일밤부터 수집된 내역을 퍼블리싱 하였고,<br>모든 테이블이 대상으로 하였고,<br>작업시 오라클 SQL AREA 가 프러싱 되어 하드 파싱이 다량 발생하였지만,<br>시스템에 무리를 줄 수준은 아니었으며,<br>현재 OTLP성 작업에는 실행시 이상이 없는 걸로 파악되었으며,<br>지속적인 테스트를 하고 있는 중입니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://blog.naver.com/chanseog/20000663161" rel="external nofollow noopener noreferrer" target="_blank">Rule-Based Optimizer</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2011/03/2011-03-03-WebL4/">Web Server L4 SLB Port Redirection</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2011-03-03</time><div class="content"><p>Web Server L4 SLB Port Redirection</p>
<p><a href="http://xx.xx.xx:82" rel="external nofollow noopener noreferrer" target="_blank">http://xx.xx.xx:82</a> -&gt; <a href="https://xx.xx.xx:442" rel="external nofollow noopener noreferrer" target="_blank">https://xx.xx.xx:442</a></p>
<p>L4에서 위와같이 redirect를 하는 경우 82번 포트를<br>사용하여 접속한 유저는 442로 redirection이 된다고 해도 통신 상 request 및 response 는 encryption 되지 않고<br>plain text로 계속 통신이 되어 보안상의 문제점이 있다고 판단되어,</p>
<p>서버단에서도 특별히 다른 방법이 없으니 소스단에서 해결해달라고 요청이 왔습니다.</p>
<p>되는 걸로 알고 있었는데 안된다고 하여 해당 기능에 대해 고민 중입니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://blog.naver.com/s6242?Redirect=Log&amp;logNo=60047142704" rel="external nofollow noopener noreferrer" target="_blank">L4 Switch</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2011/01/2011-01-03-ORA-01502/">ORA-01502 인덱스</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2011-01-03</time><div class="content"><p>“ORA-01502 인덱스 XX인덱스명 또는 XX 분할영역은 사용할 수 없는 상태입니다.”</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. Alter index &#123;index_name&#125; rebuild </span><br><span class="line">2. Alter index &#123;index_names&#125; rebuild partition &#123;partition_names&#125;</span><br></pre></td></tr></table></figure>
<p>만약 파티션 되지 않은 인덱스면 1번, 아니라면 “ORA-14806 : 분활영역된 인덱스는 전체를 다시 만들 수 없습니다”가 발생합니다.<br>그럴 경우 2번.</p>
<p>원인은 파티션은 파티션 별로 RowID를 다르게 갖게 됨으로 파티션의 변경이 발생하게 되면 RowID의 변경이 발생하게 됩니다.<br>그래서 실제 파티션 테이블의 RowID와 변경된 파티션 로컬 인덱스와 글로벌 인덱스의 RowID가 일치하지 않게 되어 인덱스 사용 중지 즉, IU 상태가 발생하게 되어 인덱스의 사용 불가 및 재 생성에 따른 운영 및 관리상의 부하 및 재 생성에 따른 시스템 부하가 발생하게 됩니다.<br>그런데 실제로, 운영권한으로</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;select *</span><br><span class="line">&gt;&gt;from DBA_INDEXES</span><br><span class="line">&gt;&gt;where index_name = &apos;XXX인덱스&apos;</span><br></pre></td></tr></table></figure>
<p>로 검색해본 결과 Stats 가 INDEX UNUSABLE 이 발생하는 ‘Unusable ‘ 상태가 아니었습니다. 한마디로 그 순간에 잠깐 ”ORA-01502”가 발생하는 상황이었다는 말이 됩니다.</p>
<p>해당 오류가 발생한 원인<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. 테이블은 파티셔닝이고, 인덱스가 non-파티셔닝으로 인해 발생하는 현상</span><br><span class="line">2. 해당 파티션을 해당 인덱스를 통해서 엑세스 할 수 없게 됨으로 해당 어플리케이션의 수행을 유지 할 수 없는 상황에서 발생</span><br></pre></td></tr></table></figure></p>
<p>2번의 경우 인덱스를 사용하지 않고 해당 파티션을 TABLE FULL SCAN 하면 에러가 발생하지 않지만 옵티마이져가 실행계획 수립시에는 INDEX UNUSABLE 상태 여부를 체크하지 않으므로 해당 인덱스를 사용하는 실행계획이 수립되고 실제 수행시 오류가 발생하게 됨으로 이미 운용중인 어플리케이션이나 SQL이 정상 수행되지 않습니다.<br>이런 경우에는 skip_unusable_indexes = TRUE 파라메터를 지정하면 수행시에 해당 인덱스가 UNUSABLE이면 이를 사용하지 않고 TABLE FULL SCAN 등을 한다. 경우에 따라서 유용하게 사용 가능하므로 고려 해 볼 수 있습니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://onlypower.egloos.com/600879" rel="external nofollow noopener noreferrer" target="_blank">Oracle 파티션</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/12/2010-12-20-PoolLimitSQL/">PoolLimitSQLException 관련 조치 사항</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-12-28</time><div class="content"><h2 id="웹로직에서-PoolLimitSQLException-에러-대응-작업"><a href="#웹로직에서-PoolLimitSQLException-에러-대응-작업" class="headerlink" title="웹로직에서 PoolLimitSQLException 에러 대응 작업"></a>웹로직에서 PoolLimitSQLException 에러 대응 작업</h2><p>“PoolLimitSQLException” 오류가 발생하였고,<br>이유는 웹로직(Weblogic)설정에 Maxinum capacity 가 15로 설정되어있었기 때문으로 추측됩니다.(기본 설정)</p>
<p>접속 Connection 이 많을때는 117까지 Idle이 증가되면서, 해당 오류가 발생된 것으로 파악되면서, 기본형으로 셋팅되었던 몇군대의 문제점이 발견되었습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Home &gt; Summary of Services: JDBC &gt; Summary of JDBC Data Sources &gt; XXX 설정</span><br></pre></td></tr></table></figure>
<p>Test Connections On Reserve 를 Check 합니다.<br>Check 할 경우 120 초 마다 “SELECT 1 FROM DUAL” 을 날려, 성공했을 경우 900초 동안은 검증이 되었다고 판단합니다.</p>
<p>900초는 너무 짧고, 1200 초가 적당하다고 합니다.</p>
<p>또한, 문제가 되었던 Maximum Capacity를 200으로 잡아주었습니다.<br>그런데 초기 용량이 1 이러다로 증가 수치 또한 1이면 부담이 될 수 있을 거 같습니다.</p>
<p>그 이유는, Monitoring 을 보면, 접속된 connections count 0인데, 가장 높은 count는 52 ~ 117까지 존재하는 걸 확인했고,<br>만약 초기용량이 1로 증가수치가 1씩 증가할 경우 connections 요청이 많을 경우 문제가 발생할 수 있을 걸로 추정되었습니다.</p>
<p>처음 용량을 5로 잡고 증가 수치 폭 또한 5씩 잡는 게 좋아 보아 같이 수정했습니다.</p>
<p>PS.<br>Diagnostics 에서 Profile Connection Leak를 Check 를 해둬야할 거 같습니다.<br>Monitoring 에서 해당 Leaked Count 를 알 수 있기 때문 있습니다.<br>이 옵션은 leaked connection이 connection pool에 자동 반환되는 것을 의미하는 것은 아니고, 단순히 로그에 leak정보의 출력을 의미하지만, Monitoring 에는 중요한 정보입니다</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/12/2010-12-28-crontab/">crontab -e 로 java를 실행하기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-12-28</time><div class="content"><h2 id="crontab-e-를-하게-되면-vi-editor-상태로-들어가게-됩니다"><a href="#crontab-e-를-하게-되면-vi-editor-상태로-들어가게-됩니다" class="headerlink" title="crontab -e 를 하게 되면 vi editor 상태로 들어가게 됩니다."></a>crontab -e 를 하게 되면 vi editor 상태로 들어가게 됩니다.</h2><p>crontab 은 반복적으로 어떤 특정한 시간대에 어떤 작업을 시작하도록 예약할 필요성을 느낄때,<br>예약기능인 crontab 을 구현하여 저장할 수 있습니다.</p>
<p>crontab 은 다음과 같이</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">분  시 일 월 연 해당명령으로 구현되어있습니다.</span><br><span class="line">30 16  *   *  *  echo &quot;테스트&quot;</span><br></pre></td></tr></table></figure>
<p>매년 매월 매일 4시 30분에 “테스트”라는 값을 출력하도록 하는 명령어입니다.</p>
<p>이렇게 표준 출력으로 출력이 나오는 명령어는 특정 계정에게 메일로 전송됩니다.<br>이렇게 메일을 전송하지 않도록 하려면</p>
<p>00 06 <em> </em> * echo ‘I bug the system administrator daily at 6:00am!’ &gt;/dev/null</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">###################################################</span><br><span class="line"># TEST 망 RESTART SHELL SCRIPT</span><br><span class="line">###################################################</span><br><span class="line">20 4 * * 2 /xxx/restart.sh</span><br></pre></td></tr></table></figure>
<p>crontab 안에 java class 를 직접 호출할 수도 있지만,<br>보통은 이렇게 sh 파일을 불려오는 데 crontab -e 를 사용합니다.</p>
<p>restart.sh 안에는 또다른 sh 파일을 넣어서 처리하도록 할 수 있습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /xxx</span><br><span class="line">stop.sh</span><br><span class="line">start.sh</span><br></pre></td></tr></table></figure>
<p>또한, 별도의 java class 를 호출하는 형태도 가능합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/ksh</span><br><span class="line"># 통계 배치</span><br><span class="line"></span><br><span class="line">BATCH_HOME=/xxx/batch</span><br><span class="line"></span><br><span class="line">. $&#123;BATCH_HOME&#125;/SetEnv.sh $*</span><br><span class="line"></span><br><span class="line">java test.xxxBatchProcess $1&gt; $&#123;BATCH_HOME&#125;/log/xxxBatchProcess.log.`date +%y%m%d_%H%M%S`</span><br></pre></td></tr></table></figure>
<p>이렇게 실제로 자바를 실행할 수도 있습니다.<br>SetEnv.sh 에는 해당 자바 소스들을 import 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/ksh</span><br><span class="line"></span><br><span class="line">export LANG=ko</span><br><span class="line">export PATH=/</span><br><span class="line">export JAVA_HOME=/xxx/weblogic/bea/jdk150_06</span><br><span class="line">export WEBAPP_PATH=/xxx/WEB-INF</span><br><span class="line">export WEBAPP_LIB_PATH=$WEBAPP_PATH/lib</span><br><span class="line">export CLASSPATH=.:$CLASSPATH:$WEBAPP_PATH/classes</span><br><span class="line">export CLASSPATH=.:$CLASSPATH:$WEBAPP_LIB_PATH/commons-beanutils-1.7.0.jar</span><br></pre></td></tr></table></figure>
<p>import 를 안해도 상관은 없지만,<br>그렇게 하면 java 의 속성값들에 해당 export 값들을 전부 넣어줘서 crontab 에 바로 등록도 가능합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">35 04 * * * /usr/local/java/bin/java -Xms516m -Xmx1024m -cp &quot;/home/xxx/public_html/WEB-INF/classes:/home/xxx/public_html/WEB-INF/lib/*&quot; com.adgather.frequency.log.xxx -DeleteBeforeData=Y -CheckAllDate=Y</span><br></pre></td></tr></table></figure>
<p>여러 방법 중에 편한 방법이 가장 좋지만,<br>맨 앞에, restart.sh 처럼 crontab 에는 sh 파일을 불러오고,<br>shell 에서 java or jar 를 불려와 처리하는 방안이 제일 무난하다고 생각합니다.</p>
<p>가끔 heap 메모리가 부족할 것이 걱정이 된다면,<br>-Xms512m -Xmx2048m 와 같이 메모리 용량을 늘려주는게 좋을 거 같습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/ksh</span><br><span class="line"># 통계 배치</span><br><span class="line">BATCH_HOME=/xxx/batch</span><br><span class="line">. $&#123;BATCH_HOME&#125;/SetEnv.sh $*</span><br><span class="line">java -Xms512m -Xmx2048m test.xxxBatchProcess $1&gt; $&#123;BATCH_HOME&#125;/log/xxxBatchProcess.log.`date +%y%m%d_%H%M%S`</span><br></pre></td></tr></table></figure>
<p>이렇게 실제로 자바를 실행할 수도 있습니다.</p>
<p>ps.<br>위의 예제에서 &gt; 는 해당 출력결과를 특정 log 파일에 저장합니다.<br>계속 같은 곳에 붙여넣기를 하는 경우도 있기 때문에 계속 날짜를 바꾸기 위한 date를 선언합니다.<br>만약 &gt;&gt; 를 선언하여 계속 덮어 씌우는 것도 가능합니다. 그럴 경우에는 날짜를 바꾸는 date를 제외해야합니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/12/2010-12-06-ForwardedFor/">Client IP 문제(X-Forwarded-For) 해결 방안</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-12-06</time><div class="content"><p>L4 에서 IP를 바꿔버리는 문제가 발생했습니다.<br>스위치를 예전 모델로 교체한다고 하여도 해당문제는 앞 단에 위치하게 되는 Firewall 장비에서 IP Remapping 할 가능성이 존재한다는 답변을 들었습니다.<br>L4 에서는 IP 를 Remapping 하면서 Client IP 를 아예 없애버리는 게 아니고 X-Forwarded-For 라는 헤더에 남겨 놓는다고 하여 해당 값을 가져다 쓰라고 하였습니다.<br>(대부분의 Proxy에서 이런 방법으로 IP를 기록한다고 합니다.)</p>
<p>기본적으로는 X-Forwarded-For 정보를 헤더에서 추출하고 그 값이 비어있을 경우 Remote-Addr 헤더로 문제없이 사용이 가능합니다.</p>
<p>참고로 해당 값은 LP VIP 을 통해 들어갈 때만 생기며, 클라이언트에서 보내주는 헤더값이 아니라 L4 VIP 를 통해 들어갈때 L4에서 헤더에 넣어주는 헤더값을 의미합니다.</p>
<p>자바내의 처리로직 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">HttpServletRequest request</span><br><span class="line"></span><br><span class="line">String ip = request.getHeader(&quot;HTTP_X_FORWARDED_FOR&quot;);</span><br><span class="line"></span><br><span class="line">if(ip == null || ip.length() == 0 || ip.toLowerCase().equals(&quot;unknown&quot;))</span><br><span class="line">    ip = request.getHeader(&quot;REMOTE_ADDR&quot;);</span><br><span class="line"></span><br><span class="line">if(ip == null || ip.length() == 0 || ip.toLowerCase().equals(&quot;unknown&quot;))</span><br><span class="line">    ip = request.getRemoteAddr();</span><br></pre></td></tr></table></figure></p>
<p>아래는 해외 문서를 참고한 내용입니다.</p>
<h2 id="Getting-The-Real-IP-Of-Your-Users"><a href="#Getting-The-Real-IP-Of-Your-Users" class="headerlink" title="Getting The Real IP Of Your Users"></a>Getting The Real IP Of Your Users</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">There are a lot of sites around the internet that try and get your IP address. Most of their reasons are legitimate. For example Google Adsense will log your IP to see where the user clicking the advert is from (and kick you off if its the same IP you logged into that account with).</span><br><span class="line"></span><br><span class="line">However, there are some sites that try to look at your IP for various reasons but do it wrong. Rapidshare is a beatifully painful example of this. If you’re on an ISP that uses a transparent proxy, RapidShare will log the proxy address instead of the actual account IP. As they limit the downloading on a per-IP basis, that means everyone using that ISP, going through that proxy, has the same IP to Rapidshare, meaning the limit to how much you download is split among those users.</span><br><span class="line"></span><br><span class="line">What I’m saying here is, if you’re going to do your own IP lookups for whatever reason, do them correctly. My initial code here was in VB.net but since I have translated what its doing to the most popular server-side languages. As its based on the server variables, rather than the code’s process, its quite easy to port to something else if you need to.</span><br><span class="line"></span><br><span class="line">The lookup that these “incorrect” sites are doing is something like this:</span><br><span class="line"></span><br><span class="line">Request.ServerVariables(&quot;REMOTE_ADDR&quot;)</span><br><span class="line">What then need to be doing is comparing the HTTP_X_FORWARDED_FOR variable against it, to check that there isn’t a non-transparent proxy in the way. Like so:</span><br><span class="line"></span><br><span class="line">&apos; Look for a proxy address firstDim _ip As String = Request.ServerVariables(&quot;HTTP_X_FORWARDED_FOR&quot;)&apos; If there is no proxy, get the standard remote addressIf (_ip = &quot;&quot; Or _ip.ToLower = &quot;unknown&quot;) Then _ _ip = Request.ServerVariables(&quot;REMOTE_ADDR&quot;)</span><br><span class="line">This doesnt help people that are limited to (or otherwise) on anonymous proxies. They will hide the forwarding address (like they’re supposed to) and therefore the lookup will ONLY get the proxy’s address. Some ISPs do this by default to “protect” their users… Its just retarded. If you ISP does this, and you’ve been wondering why RS or other sites don’t work… Now you know.</span><br><span class="line"></span><br><span class="line">If you want to check against an existing “wrong site”, try IP Chicken. It will return an incorrect value (eg the proxy). WhatsMyIP.orgis one that will look through the proxy and should give you the correct IP.</span><br><span class="line"></span><br><span class="line">Here are some more examples in other languages:</span><br></pre></td></tr></table></figure>
<h2 id="C"><a href="#C" class="headerlink" title="C#"></a>C#</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Look for a proxy address firstString</span><br><span class="line">_ip = Request.ServerVariables[&quot;HTTP_X_FORWARDED_FOR&quot;];</span><br><span class="line">// If there is no proxy, get the standard remote address</span><br><span class="line">If (_ip == &quot;&quot; || _ip.ToLower == &quot;unknown&quot;)</span><br><span class="line">_ip = Request.ServerVariables[&quot;REMOTE_ADDR&quot;];</span><br></pre></td></tr></table></figure>
<h2 id="C-1"><a href="#C-1" class="headerlink" title="C#"></a>C#</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Look for a proxy address firstString</span><br><span class="line">_ip = Request.ServerVariables[&quot;HTTP_X_FORWARDED_FOR&quot;];</span><br><span class="line">// If there is no proxy, get the standard remote address</span><br><span class="line">If (_ip == &quot;&quot; || _ip.ToLower == &quot;unknown&quot;)</span><br><span class="line">_ip = Request.ServerVariables[&quot;REMOTE_ADDR&quot;];</span><br></pre></td></tr></table></figure>
<h2 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h2><p>Based on code from OxyScripts.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function GetUserIP() &#123;</span><br><span class="line">if (isset($_SERVER)) &#123;</span><br><span class="line">if (isset($_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;]))</span><br><span class="line">return $_SERVER[&quot;HTTP_X_FORWARDED_FOR&quot;];</span><br><span class="line">if (isset($_SERVER[&quot;HTTP_CLIENT_IP&quot;]))</span><br><span class="line">return $_SERVER[&quot;HTTP_CLIENT_IP&quot;];</span><br><span class="line">return $_SERVER[&quot;REMOTE_ADDR&quot;]; &#125;</span><br><span class="line">if (getenv(&apos;HTTP_X_FORWARDED_FOR&apos;))</span><br><span class="line">return getenv(&apos;HTTP_X_FORWARDED_FOR&apos;);</span><br><span class="line">if (getenv(&apos;HTTP_CLIENT_IP&apos;))</span><br><span class="line">return getenv(&apos;HTTP_CLIENT_IP&apos;);</span><br><span class="line">return getenv(&apos;REMOTE_ADDR&apos;);&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Java-and-JSP"><a href="#Java-and-JSP" class="headerlink" title="Java and JSP"></a>Java and JSP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String ipaddress = request.getHeader(&quot;HTTP_X_FORWARDED_FOR&quot;);</span><br><span class="line">if (ipaddress == null)</span><br><span class="line">ipaddress = request.getRemoteAddr();</span><br></pre></td></tr></table></figure>
<h2 id="ASP-VBScript"><a href="#ASP-VBScript" class="headerlink" title="ASP/VBScript"></a>ASP/VBScript</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ipaddress = Request.ServerVariables(&quot;HTTP_X_FORWARDED_FOR&quot;)</span><br><span class="line">if ipaddress = &quot;&quot;</span><br><span class="line">then</span><br><span class="line">ipaddress = Request.ServerVariables(&quot;REMOTE_ADDR&quot;</span><br><span class="line">)end if</span><br></pre></td></tr></table></figure>
<h2 id="ColdFusion"><a href="#ColdFusion" class="headerlink" title="ColdFusion"></a>ColdFusion</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;CFCOMPONENT&gt;</span><br><span class="line">&lt;CFIF #CGI.HTTP_X_Forwarded_For# EQ &quot;&quot;&gt;</span><br><span class="line">&lt;CFSET ipaddress=&quot;#CGI.Remote_Addr#&quot;&gt;</span><br><span class="line">&lt;CFELSE&gt;</span><br><span class="line">&lt;CFSET ipaddress=&quot;#CGI.HTTP_X_Forwarded_For#&quot;&gt;</span><br><span class="line">&lt;/CFIF&gt;</span><br><span class="line">&lt;/CFCOMPONENT&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Perl"><a href="#Perl" class="headerlink" title="Perl"></a>Perl</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ip = $req-&gt;header(&apos;Client-IP&apos;) || $req-&gt;header(&apos;Remote-Addr&apos;);</span><br><span class="line">if ($req-&gt;header(&apos;X-Forwarded-For&apos;))</span><br><span class="line">&#123; $proxy = $ip; $ip = $req-&gt;header(&apos;X-Forwarded-For&apos;);&#125;</span><br></pre></td></tr></table></figure>
<p>If you know anymore, just ping them in my general direction and they can be added.</p>
<p>C# 계열은 정상 동작했는데,<br>우리쪽에서는 헤더정보를 읽어오지 못했습니다.<br>이유는 웹로직에서 포워딩할때 변경하는게 아닌가 추측됩니다.<br>모든 헤더 정보를 찍어보니 해당 헤더이름은<br>“X-Forwarded-For”(HTTP-X-FOWARDED-FOR) 로 변환해서 들어오는 것을 확인했습니다.</p>
<p> 그것은 IIS 설정에서 X-Forwarded-For 를 IP로 잡는 겁니다.<br> 인터넷에서 F5XForwardedFor 로 검색하면 상세한 정보를 알 수 있습니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://blog.chonnom.com/10100163904" rel="external nofollow noopener noreferrer" target="_blank">윈도우즈 X-Forwarded-For 아이피 변환</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/12/2010-12-03-VI-EDITOR/">vi 편집기 사용하기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-12-03</time><div class="content"><p>vi는 리눅스를 비롯한 유닉스 계열 운영체제에서 많이 사용되는 텍스트 파일 편집 프로그램입니다.  </p>
<p>‘#which vi’ 이라 명령어를 입력하면 vim 프로그램의 위치를 나타냅니다.<br>보통 vi 편집기는 alias 되어 있어 vi 명령어만 입력하면 텍스트 파일을 열어 편집할 수 있습니다.<br>vi 은 3가지 상태 모드가 있습니다.</p>
<ol>
<li>명령 상태<br>명령어를 입력하는 상태입니다. 내용을 검색하거나 이동할 때 사용하는 명령어 입력 상태입니다.</li>
<li>입력 상태<br>텍스트 파일의 내용을 입력할 수 있는 상태입니다. 텍스트 파일을 수정할 수 있는 상태입니다.</li>
<li><p>ex 상태<br>파일 관련 처리 명령에 사용되며 명령 상태에서 ‘:’ 문자를 입력하면 ex 상태가 됩니다.</p>
<p>명령 상태는 vi 편집기를 실행하면 명령 상태로 실행됩니다. 어떤 상태이든 esc 버튼을 누르면 명령 상태로 돌아갑니다. 아래의 화면은 명령 상태로 vi 편집기가 실행된 화면입니다.</p>
</li>
</ol>
<p>명령 상태의 키는 다음과 같습니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">h,j,k,l : 왼쪽,아래쪽, 위쪽, 오른족으로 한 칸씩 이동합니다.</span><br><span class="line">$ : 그 줄의 가장 마지막으로 이동합니다.</span><br><span class="line">^ : 그 줄의 가장 처음으로 이동합니다.</span><br><span class="line">H : 화면의 가장 위로 이동합니다.</span><br><span class="line">L : 화면에 가장 아래로 이동합니다.</span><br><span class="line">gg : 파일의 가장 처음으로 이동합니다.</span><br><span class="line">G : 파일의 가장 마지막으로 이동합니다.</span><br><span class="line">&#125; : 다음 단락으로 이동합니다.</span><br><span class="line">&#123; : 이전 단락으로 이동합니다.</span><br><span class="line">:n : n 번째 줄로 이동합니다.</span><br></pre></td></tr></table></figure></p>
<p> 명령 상태에서 텍스트 파일의 커서가 위치하는 곳에 텍스트 파일을 수정하기 위해서는 입력상태로 변경해야 합니다. 이 때 사용하는 키는 다음과 같습니다.</p>
<ul>
<li>입력 명령</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i : 현재 커서가 위치한 곳부터 글자를 입력합니다.</span><br><span class="line">I : 현재 작업 줄의 가장 처음에 글자를 입력합니다.</span><br><span class="line">a: 현재 커서가 위치한 다음 칸부터 글자를 입력합니다.</span><br><span class="line">A : 현재 작업 줄의 가장 마지막에 글자를 입력합니다.</span><br></pre></td></tr></table></figure>
<ul>
<li>삭제 명령</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x : 현재 커서가 위치한 곳에 글자 삭제</span><br><span class="line">dw : 한 단어를 삭제</span><br><span class="line">dd : 줄 전체를 삭제</span><br><span class="line">d$ : 현재 커서가 위치한 곳부터 그 줄의 가장 마지막까지 삭제</span><br></pre></td></tr></table></figure>
<ul>
<li>복제 및 붙이기 명령</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yy : 현재 줄 전체를 메모리에 저장해 둡니다.</span><br><span class="line">y0 : 현재 커서가 위치한 곳부터 그 줄의 가장 처음까지 메모리에 저장합니다.</span><br><span class="line">y$ : 현재 커서가 위치한 곳부터 그 줄의 가장 마지막까지 메모리에 저장합니다.</span><br><span class="line">p : 현재 커서가 위치한 곳에서 메모리의 내용을 붙여 넣습니다.</span><br><span class="line">P : 현재 커서가 위치한 바로 다음 칸에 메모리의 내용을 붙여넣습니다.</span><br></pre></td></tr></table></figure>
<p> 참고로 v 키를 누른 후 이동 명령으로 커서를 이동하면 선택된 블록 영역이 반전된 색깔로 표시되며 영역이 선택됩니다.</p>
<p> dd 삭제 명령과 i G, gg 정도만 알면, 어느정도 vi 편집하는데 불편함은 업습니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/11/2010-11-05-WINDOW/">윈도우 스케쥴러로 매시간 자바실행시키기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-11-05</time><div class="content"><h2 id="윈도우-스케쥴러로-매시간-자바실행시키기"><a href="#윈도우-스케쥴러로-매시간-자바실행시키기" class="headerlink" title="윈도우 스케쥴러로 매시간 자바실행시키기"></a>윈도우 스케쥴러로 매시간 자바실행시키기</h2><p>부제 : 배치 프로세스</p>
<ol>
<li>javac 명령어로 클래스 파일 만들기 - 생략</li>
<li>java 실행시킬 실행파일(BAT) 파일 생성<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">패턴 1. classpath 에 모든 정보를 담은 뒤, java에서는 해당 클래스파일만 불러옵니다.</span><br><span class="line">set classpath=.;&#123;불러올 패키지의 classes 및 jar 경로&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set path=.;C:/project/java/jdk1.5.0_16/bin</span><br><span class="line">set classpath=.</span><br><span class="line">set classpath=%classpath%;C:/test/com.sec.admin_home/WEB-INF/classes</span><br><span class="line">set classpath=%classpath%;C:/test/com.sec.admin_home/WEB-INF/lib</span><br><span class="line">set classpath=%classpath%;C:/test/com.sec.admin_home/WEB-INF/lib/xxx.jar</span><br><span class="line">java com.sec.admin.batch.biz.process.TestProcess</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">패턴 2. 기본 classpath 만 설정한 후 java 명령어 중 classpath 설정하는 명령어로 class를 불러옵니다.</span><br><span class="line">Java –cp &#123;불러올 classes 및 jar 경로&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set path=.;C:/project/java/jdk1.5.0_16/bin</span><br><span class="line">java -cp C:/test/com.sec.admin_home/WEB-INF/classes com.sec.admin.batch.biz.process.TestProcess</span><br><span class="line">pause</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>lib 설정<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">패턴 1. java 자체 lib 안에 jar 파일을 넣어 인식시킵니다.</span><br><span class="line">set classpath=.;&#123;불러올 패키지의 classes 및 jar 경로&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:/project/java/jdk1.5.0_16/jre/lib/ext</span><br><span class="line">jdk의 ext 폴더에 실행할때 필요한 jar 파일을 넣습니다.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">단점 : 서버의 lib 과 자바의 lib 이 충돌납니다. 독립적으로 사용할 경우에 추천합니다.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">패턴 2. 사용하는 모든 jar 파일을 classpath 로 불러옵니다.</span><br><span class="line">Java –cp &#123;불러올 classes 및 jar 경로&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set classpath=%classpath%;C:/test/com.sec.admin_home/WEB-INF/lib</span><br><span class="line">set classpath=%classpath%;C:/test/com.sec.admin_home/WEB-INF/lib/xxx.jar</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>윈도우 스케쥴러에 해당 bat 파일 등록 –생략</li>
</ol>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/07/2010-07-16-STRING/">String을 InputStream으로..</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-07-16</time><div class="content"><p>String을 InputStream으로 만들어야 하는 경우가 종종 발생한다.<br>라이브러리가 파일이나 네트웍과 같은 곳으로부터 읽어서 처리할 수 있도록 전달인자를 InputStream으로 되어 있다.<br>하지만 이 파일의 내용이 DB와 같은 곳에 있다면?? DB에서 읽으면 문자열일텐데..<br>이걸 다시 파일에 기록하고 InputStream을 열어서 전달하기는 좀 무리가 있다.<br>(어쩌면 난 경험이 부족해서 이런 경우에 더 좋은 방법이 있는데 모르는 것일 수도 있다. =ㅅ=;;)</p>
<p>일단.. String으로 읽어서 String을 InputStream으로 바꾸는 방법을 찾아봤다.<br>JDK 1.0에 StringBufferInputStream라는 클래스가 있지만 이 녀석은 deprecated되었다.<br>대신 StringReader를 사용하라고 한다. </p>
<p>InputStream과 Reader의 차이는 InputStream은 byte 단위로 읽는 녀석이지만,<br>Reader는 문자(character) 단위로 읽는 녀석이다. </p>
<p>ASCII의 경우는 동일하겠지만, 유니코드가 섞여 있다면 처리 방식이 달라질 수 있다.<br>문자열이라는 것은 인코딩이 되어 있으니까 String은 InputStream이 아닌 Reader로 읽는 것이 맞는 말이다.</p>
<p>그래서 StringBufferInputStream은 말 그대로 폐기.. 또 다른 방법은.. Apache Ant 라이브러리에 있는<br>StringInputStream을 사용하는 방법이다. 사용 방법은 아주 간단하다. </p>
<p>Ant를 다운받고 lib 경로 아래에 있는 ant.jar 파일을 CLASS_PATH에 넣어주고 쓰면 된다. </p>
<p>String 문자열을 생성자에 넣어주고 객체를 생성하면 그 문자열이 InputStream 처럼 동작한다.<br>(뭐.. 그야 InputStream을 상속받았으니까 =ㅅ=;;) </p>
<p>아래 예제는 LDIF 파일을 읽어서 처리하는 부분이다. LDIFReader는 InputStream을 필요로 한다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String ldifContent = &quot;...&quot;;</span><br><span class="line">StringInputStream is = new StringInputStream(ldifContent, &quot;UTF-8&quot;);</span><br><span class="line">LDIFReader reader = new LDIFReader(is, LDAPConnection.LDAP_V3);</span><br><span class="line">LDAPMessage msg = reader.readMessage();</span><br></pre></td></tr></table></figure>
<p>소스 코드를 보니 내부적으로는 Reader를 InputStream으로 변환해주는 org.apache.tools.ant.util.ReaderInputStream을<br>상속받아 org.apache.tools.ant.filters.StringInputStream을 구현했다. </p>
<p>이거 나중에 유용하게 사용할 수도 있겠다.</p>
<p>그리고 이런 라이브러리가 귀찮거나 기능에 비해 거추장스럽다면..<br>간단하게 byte 배열을 이용하는 방법도 있다. String을 byte 배열로 변환한 후 ByteArrayInputStream을 사용하면 된다.<br>위의 코드에서 InputStream을 생성해 주는 부분만 아래와 같이 바꾸자.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ByteArrayInputStream is = new ByteArrayInputStream(ldifContent.getBytes(&quot;UTF-8&quot;));</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://www.kodejava.org/examples/265.html" rel="external nofollow noopener noreferrer" target="_blank">How do I convert string into InputStream?</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2010/06/2010-06-07-SQL_Loader/">SQL*Loader 프로그래밍</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2010-06-07</time><div class="content"><p>엑셀의 많은 데이터를 오라클에 저장하는 방법입니다.<br>물론 저는 특정 클라이언트가 업로드한 파일을 그대로 DB에 넣기 위해 사용합니다.</p>
<p>내용은 간단합니다.</p>
<ol>
<li>엑셀파일을 다른 이름으로 저장해서 확장자를 csv 로 저장합니다.<br>(미리 csv 에서 지정된 구분자를 정할 수 있습니다. ‘tab’ , ‘,’ 등..)</li>
</ol>
<ol start="2">
<li>오라클에 데이터를 저장할 수 있는 테이블을 데이터 형식에 맞게 만들어줍니다.</li>
</ol>
<ol start="3">
<li><p>새로운 메모장으로 SQL*Loader 컨트롤 파일을 작성해줍니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">LOAD DATA</span><br><span class="line">INFILE &apos;c:\biotest.csv&apos;  // 파일 경로</span><br><span class="line">APPEND                       // 저장 옵션 (기존의 행에 추가, 이외에 REPLACE, INSERT, TRUNCATE 가 있음)</span><br><span class="line">INTO TABLE BIO_TEST   // 데이터를 저장할 테이블명 </span><br><span class="line">FIELDS TERMINATED BY &apos;,&apos;  // 데이터간의 구분 문자</span><br><span class="line">(&quot;Entrez_GeneID&quot;,&quot;Gene_symbol&quot;,&quot;Ka&quot;,&quot;Ks&quot;,&quot;Ka/Ks&quot;,&quot;5&apos;UTR&quot;,&quot;CDS&quot;)    // 테이블 속성명</span><br></pre></td></tr></table></figure>
</li>
<li><p>명령어 창에서</p>
<blockquote>
<p>sqlldr userid/passwd@db_ip control=’파일경로’ 를 쳐줍니다.</p>
</blockquote>
</li>
</ol>
<ol start="5">
<li>데이터 저장이 완료되면 컨트롤파일명과 동일한 텍스트파일이 생성되어 저장 결과를 확인합니다.</li>
</ol>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="https://blog.naver.com/kjhfreedom21/110082610606" rel="external nofollow noopener noreferrer" target="_blank">SQL*Loader 를 처음 써보다.</a></li>
</ul>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="../9/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../9/">9</a><span class="page-number current">10</span><a class="page-number" href="../11/">11</a><a class="extend next" rel="next" href="../11/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2019 By bymin</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" rel="external nofollow noopener noreferrer" target="_blank"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" rel="external nofollow noopener noreferrer" target="_blank"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="../../js/utils.js?version=1.6.1"></script><script src="../../js/fancybox.js?version=1.6.1"></script><script src="../../js/sidebar.js?version=1.6.1"></script><script src="../../js/copy.js?version=1.6.1"></script><script src="../../js/fireworks.js?version=1.6.1"></script><script src="../../js/transition.js?version=1.6.1"></script><script src="../../js/scroll.js?version=1.6.1"></script><script src="../../js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>