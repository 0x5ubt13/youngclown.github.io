<!DOCTYPE html><html lang="lang"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="잘정리하자"><meta name="keywords" content><meta name="author" content="bymin"><meta name="copyright" content="bymin"><title>bymin | 젊은광대 기술블로그</title><link rel="shortcut icon" href="../../melody-favicon.ico"><link rel="stylesheet" href="../../css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="../../img/avatar.png"></div><div class="author-info__name text-center">bymin</div><div class="author-info__description text-center">잘정리하자</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="../../archives"><span class="pull-left">Articles</span><span class="pull-right">109</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="../../index.html">젊은광대 기술블로그</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">젊은광대 기술블로그</div><div id="site-sub-title">bymin</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="../../2018/10/2018-10-16-jetbrains/">jetbrains-day-seoul-2018</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-10-16</time><div class="content"><h2 id="JetBrains-Day-서울-2018"><a href="#JetBrains-Day-서울-2018" class="headerlink" title="JetBrains Day 서울 2018"></a>JetBrains Day 서울 2018</h2><p>작년에 참석 못해서 아쉬운데, 올해에는 참석 성공.<br>그런데,<br>Hall A (Java JVM 세션 )<br>Hall B (.NET 세션)</p>
<p>위 두개로 나뉘어서 진행됩니다. Java JVM 세션이지만, 거의 대부분이 코틀린관련 이야기를 하게되어, 주변 지인들은 관심이 그렇게까지는 없습니다.</p>
<h2 id="10-00-11-30"><a href="#10-00-11-30" class="headerlink" title="10:00 - 11:30"></a>10:00 - 11:30</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">기조연설 :</span><br><span class="line"></span><br><span class="line">개발자의 생산성을 높이기위한 장벽 제거 - by Hadi Hariri</span><br><span class="line">개발 작업에 뒷따르는 다양한 인위적인 장벽 없다고 상상해보십시오. 아무도 여러분에게 사소한 관여를 하지 않고, 심지어 아무도 출퇴근시에 쳐다 보지도 않는다고 생각해 보세요.관리자가 없다는 것, 자유롭고 이상적이지 않습니까? 모든 것이 원하는 대로 실행되고 우리는 훨씬 더 생산적이 될 것입니다.</span><br><span class="line"></span><br><span class="line">JetBrains에서는 이러한 장벽이 많이 존재하지 않습니다. 그러나 장벽이없는 것이 항상 쉬운 것은 아닙니다. 사실 우리에게 부딛히는 외부 장벽들 없다면 또 모든게 올바르게 작동 하지는 않을 가능성이 크죠.</span><br><span class="line">이 강연에서 우리는 상하 관계의 장벽이 없는 업무의 흐름에 대한 장단점을 살펴보고 이때 발생하는 특정 문제를 극복하는 방법을 살펴볼 것입니다.</span><br><span class="line">사내 프로젝트지만 모두 자유롭게 코딩하는 방법을 JetBrains 에서 공유 드립니다.</span><br><span class="line"></span><br><span class="line">소프트웨어를 모르는 대한민국 기업의 위기 - by 안영회</span><br><span class="line">80년대 후반 미국에서 장비를 들여오면서 번들 형태의 소프트웨어를 수정하는 업무로 시작한 대한민국 전산실. 후배들은 90년대 중후반 웹 기술을 배우면서, 외산 소프트웨어 지원 인력이 아닌 직접 개발하는 기회를 얻었습니다. 그래서, 시작한 1세대가 험난한 시절(?)을 보내고 이제야 그 안목으로 대한민국 사회에 기여를 하고자 발언을 시작합니다. 이제는 대한민국이 소프트웨어 산업을 주도해 갈 수 있습니다. 외세의 한국 영업 파트너가 아니라 진짜 소프트웨어 만드는 사람과 기업으로 가능합니다. 우리 선조들이 만드셨던 측우기와 거북선을 소프트웨어로 다시 실현하는 그날을 꿈꾸며...</span><br></pre></td></tr></table></figure>
<h2 id="13-00-13-45"><a href="#13-00-13-45" class="headerlink" title="13:00 - 13:45"></a>13:00 - 13:45</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Kotlin - What&apos;s New - by Hadi Hariri</span><br><span class="line">코틀린 1.1 버전 출시 후 시간이 많이 지났습니다. 이번 세션에서는 멀티플랫폼 프로젝트 지원 등 코틀린 개발언어의 새로운 기능들에 대해서 알아 볼 예정입니다.</span><br></pre></td></tr></table></figure>
<h2 id="14-00-14-45"><a href="#14-00-14-45" class="headerlink" title="14:00 - 14:45"></a>14:00 - 14:45</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Kotlin/Anywhere - by Hadi Hariri</span><br><span class="line">Kotlin은 JVM, Android, JavaScript를 대상의 언어로 알고 계셨나요? 이제 Kotlin / Native를 사용하여 iOS, macOS, Windows, Linux와 같은 다른 플랫폼을 지원할 수 있어, 단일 프로젝트에서 여러 플랫폼을 타겟팅 할 수 있게 되었습니다. 이 세션에서는 Kotlin과 함께 멀티 플랫폼 프로젝트를 만드는 방법, 언어에서 제공하는 장점 뿐만 아니라 함께 사용할 수 있는 라이브러리에 대한 내용을 다룰 것입니다.</span><br></pre></td></tr></table></figure>
<h2 id="15-00-15-45"><a href="#15-00-15-45" class="headerlink" title="15:00 - 15:45"></a>15:00 - 15:45</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Kotlin에서 제공하는 Coroutines을 사용하는 방법 - by 권태환</span><br><span class="line">Kotlin Coroutines을 소개하며, 회사 안드로이드 프로젝트에 적용한 Coroutines 적용하며 얻은 경험을 짧게 공유합니다.</span><br></pre></td></tr></table></figure>
<h2 id="16-00-16-45"><a href="#16-00-16-45" class="headerlink" title="16:00 - 16:45"></a>16:00 - 16:45</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IntelliJ Tips and Tricks - by Hadi Hariri</span><br><span class="line">IntelliJ IDEA 기반의 IDE 활용시 너무나도 많은 기능들을 놓치고 있는 경우가 많습니다. 출시는 연간 3회가 되고 신규 기능들은 늘어나는데 따라가지 못하는 경우가 많죠. 가장 최신 기능중 유용한 기능들을 위주로 숨겨진 신규 기능들을 소개하는 세션을 가지려 합니다.</span><br></pre></td></tr></table></figure>
<h2 id="17-00-17-45"><a href="#17-00-17-45" class="headerlink" title="17:00 - 17:45"></a>17:00 - 17:45</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Backend.AI의 JetBrains IDE용 플러그인 개발 경험 - by 고재필</span><br><span class="line">Backend.AI는 사용자가 작성한 코드를 간단한 설정만으로 Cloud자원을 이용해서 구동하고 결과를 돌려주는 머신러닝에 최적화된 PaaS입니다. 기존의 Backend.AI에서 지원하던 다양한 개발 환경 통합에 더하여 새로이 IntelliJ 기반 IDE 통합을 위해 플러그인을 제작하였습니다. IntelliJ기반 IDE를 지원하는 것과 다른 개발환경 지원간의 차이점과 플러그인을 개발하면서 알게된 것들에 대해서 이야기 하고, 한계점에 대해서 논합니다. 그리고, 실제 결과물을 이용한 로컬 개발 환경에서의 실행과 원격 자원을 이용한 실행간의 손쉬운 전환을 시연합니다.</span><br></pre></td></tr></table></figure>
<p>앞으로 코틀린 관련 공부를 해봐야겠습니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="https://info.jetbrains.com/jetbrains-day-seoul-2018.html" rel="external nofollow noopener noreferrer" target="_blank">Chapter 14 람다와 스트림</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/10/2018-10-15-lamda_01/">람다와 스트림</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-10-15</time><div class="content"><h2 id="람다식"><a href="#람다식" class="headerlink" title="람다식"></a>람다식</h2><p>람다식은 메서드를 하나의 식(expression)으로 표현하는 것을 의미합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 객체 지향 언어보다는 함수 지향 언어에 가깝습니다.  </span><br><span class="line">- 함수를 간략하면서도 명확한 식으로 표현할 수 있도록 해줍니다.  </span><br><span class="line">- 메서드를 람다식으로 표현하면 메서드의 이름 및 반환 값이 없어지므로 익명 함수 라고도 합니다.   </span><br><span class="line">- 람다식의 형태는 매개 변수를 가진 코드 블록이지만 런타임 시에는 익명 구현 객체를 생성합니다.</span><br></pre></td></tr></table></figure>
<h2 id="함수형-인터페이스"><a href="#함수형-인터페이스" class="headerlink" title="함수형 인터페이스"></a>함수형 인터페이스</h2><p>함수형 인터페이스는 람다식을 다루기 위한 인터페이로 하나의 추상 메서드만 정의되어 있어야 합니다. (단, static 메서드와 default 메서드의 개수에는 제약이 없음)<br>단순하게 하나의 interface 를 만들고, 거기에 추상화 메소드를 만들면, 람다식이 가능하게 됩니다.<br>보통 new 객체를 만들 었을 때 추상화 객체에 대한 Anonymous 객체가 생성되었던 부분을 조금더 간결하게 만들어지는 것입니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- 함수형 인터페이스 타입의 매개변수 및 반환 타입이 함수형 인터페이스 타입이라면 람다식을 참조하는 참조변수를 매개변수로 지정하고 람다식을 가리키는 참조변수를 반환하거나 또는 람다식 자체를 반환할 수 있습니다.  </span><br><span class="line">- 람다식은 Object 타입으로 형변환 할 수 없으며, 오직 함수형 인터페이스로만 형변환이 가능합니다.  </span><br><span class="line">- 람다식 내에서 참조하는 지역변수는 final이 붙어 있지 않아도 상수로 간주되며, 외부 지역변수와 같은 이름의 매개변수를 허용하지 않습니다.  </span><br><span class="line">- 함수형 인터페이스는 @FuntionalInterface 라는 어노테이션을 붙일 수 있습니다. (컴파일러에서 추상메서드를 갖춘 인터페이스인지 검사, javadoc 페이지에서 해당 인터페이스가 함수형 인터페이스임을 알 수 있도록 한다)</span><br></pre></td></tr></table></figure>
<h2 id="메서드-참조"><a href="#메서드-참조" class="headerlink" title="메서드 참조"></a>메서드 참조</h2><p>저는 위의 함수형 인터페이스는 업무에서 거의 사용하고 있지는 않습니다.<br>오히려 static method를 호출하는 용도로 메서드 참조를 자주 사용합니다. 아직 실업무보다는 개인업무 혹은 배치쪽 작업할때 간혈적으로 사용합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(a, b) -&gt; Math.max(a, b);</span><br><span class="line">Math::max</span><br></pre></td></tr></table></figure>
<p>메서드를 참조해서 매개변수의 정보 및 리턴 타입을 알아내어 람다식에서 불필요한 매개 변수를 제거하는 것이 목적으로,<br>람다식의 매개 변수는 메서드의 매개값을 전달하는 역할만 하기 때문에 메서드 참조를 이용하면 깔끔하게 처리할 수 있습니다.  </p>
<h2 id="스트림"><a href="#스트림" class="headerlink" title="스트림"></a>스트림</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String[] strArr = &#123;&quot;aaa&quot;, &quot;ddd&quot;, &quot;ccc&quot;&#125;;</span><br><span class="line">List&lt;String&gt; strList = Arrys.asList(strArr);</span><br><span class="line">Stream&lt;String&gt; strStreamArr = Arrays.stream(strArr);</span><br></pre></td></tr></table></figure>
<p>스트링배열을 List배열로 바꿔주는 방법입니다.<br>보통 굳이 저렇게 객체를 두개나 만들 필요없이,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; strStreamArr = Stream.of(&quot;aaa&quot;, &quot;ddd&quot;, &quot;ccc&quot;);</span><br></pre></td></tr></table></figure></p>
<p>Stream.of 로 Stream 처리를 하는게 저는 편합니다.<br>물론 Arrays를 사용하여 java.util.Arrays.ArrayList(java.util.ArrayList 클래스와는 다른 클래스)를 리턴하여 사용할 이유가 있다면 위와같이 처리해야하지만,<br>보통 그냥 sort 하거나 강제적으로 변경되는 로직을 처리할 용도로만 사용하기 위해서 사용하는 부분이라 그렇게까지 처리할 이유가 없습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String[] sortList = &#123; &quot;01&quot;, &quot;02&quot;, &quot;03&quot;, &quot;04&quot;, &quot;05&quot; &#125;;</span><br><span class="line">Stream.of(sortList).map(CodeUtils::getAdVrtsTpCode);</span><br></pre></td></tr></table></figure>
<p>CodeUtils 의 static 메소드를 통해, 내가 원하는 코드값으로 변경하는 로직입니다.<br>예전에는 for문으로 돌리면서 일일이 mapping 처리를 해야했지만, 정말 편하게 변경이 가능합니다.<br>성능이라든가, 효율적인 부분에 있어, 많은 부분을 람다로 바꿔 개발하진 않겠지만, Stream 은 간혹 사용할 거 같아 약간 정리해봅니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><p><a href="https://rebeccacho.gitbooks.io/java-study-group/content/chapter14.html" rel="external nofollow noopener noreferrer" target="_blank">Chapter 14 람다와 스트림</a></p>
</li>
<li><p><a href="https://okky.kr/article/329818" rel="external nofollow noopener noreferrer" target="_blank">자바 8 Stream API 과 주의사항</a></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/10/2018-10-12-noup/">nohup이란</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-10-11</time><div class="content"><p>가끔 crontab 에 등록된 shell script 가 동작을 하지 않고 에러가 났을 경우,<br>서버내에서 다시 실행해야할때, nohup 을 씁니다.</p>
<p>nohup이란 리눅스, 유닉스에서 쉘스크립트파일을 데몬형태로 실행시키는 프로그램으로, 터미널 세션이 끊겨도 실행을 멈추지 않고 동작하도록 합니다.<br>shell script 를 실행하고 터미널을 종료하면 프로세스 또한 종료되므로,<br>터미널 세션을 끊겨도 사용해야할 경우에 사용합니다.</p>
<p>보통 명령어는 이렇습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ nohup shell.sh &amp;</span><br><span class="line">$ nohup sh -- ./shell.sh &amp;</span><br></pre></td></tr></table></figure>
<p>실제 full 경로를 입력하거나 해당 경로에 가서, ./shell 을 실행합니다.<br>종료하는 방법은 강제로 프로세스를 kill 하는 방법밖에 없습니다. (kill -9 PID)</p>
<p>참고로 위와 같이 nohup과 &amp;을 같이 쓰는 형태로 암기하고 있었는데,<br>&amp;는 프로세스를 실행할 때 백그라운드에서 동작하도록 만드는 명령어로 비슷하지만 다른 명령어입니다.</p>
<p>nohup 으로 실행하면 hang-up signal 이 와도 동작하기 때문에 터미널 연결이 끊어져도 실행을 멈추지 않습니다.<br>&amp; 으로만 실행해도 터미널이 끊어져도 실행이 멈추지는 않는 데,<br>&amp; 은 백그라운드로 돌린다는 의미이며, 기본적으로는 nohup 이 아닐 경우 터미널이 끊어지면 실행도 끊어집니다.<br>하지만 요즘 옵션에 nohup 과 같은 동작을 하게 설정이 되어 있어서 &amp; 만으로도 nohup 과 같은 동작을 보인다고 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nohup shell.sh &gt; /dev/null</span><br></pre></td></tr></table></figure>
<p>그래서 위와같이 &amp; 대신에 &gt; /dev/null 을 더 자주 쓰게 됩니다.<br>/dev/null 은 주로 불필요한 출력 스트림을 버리는 곳으로 사용됩니다.<br>/dev/null 을 사용하지 않을 경우, nohup.out 이라는 파일이 호출한 위치에 파일을 생성시키는데,<br>해당 파일을 생성하지 않게 합니다.</p>
<h2 id="행의-극복"><a href="#행의-극복" class="headerlink" title="행의 극복"></a>행의 극복</h2><p>nohup으로 백그라운드 처리된 작업들은 원격 SSH 세션을 로그오프할 때 일반적으로 이들의 종료를 막기 위해 사용되며, 이 상황에서 발생할 수 있는 또 다른 문제는 ssh가 로그오프(행)을 거부하는 것인데, 그 이유는 백그라운드 작업들에 대한 데이터 손실을 거부하기 때문이다. 이 문제는 3개의 모든 입출력 스트림을 리다이렉션 처리함으로써 극복할 수 있다고 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nohup ./myprogram &gt; foo.out 2&gt; foo.err &lt; /dev/null &amp;</span><br></pre></td></tr></table></figure>
<p>SSH 세션을 닫으면 무조건 의존 프로세스들에 HUP 신호를 보내지 않게 된다. 이는 의사 터미널의 할당 여부에 따라 달라진다고 하는데,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">program &lt; /dev/null program</span><br></pre></td></tr></table></figure>
<p>형태일 때,<br>file descriptor 0 즉 STDIN을 통해 입력인수(옵션에 입력 매개 변수가 있거나 입력 파일이 될 수 있음)를 취하는 것을 의미하는데,<br>/dev/null은 아무것도 포함되어 있지 않으므로, 읽을 때 EOF (End of File)에 알릴 것이므로 /dev/null에서 입력을받는 프로그램은 기본적으로 아무 것도 입력 인수로 리디렉션하지 않습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias start=&apos;nohup java -jar healthcheck.jar /tmp 2&gt;&gt; /dev/null &gt;&gt; /dev/null &amp;&apos;</span><br></pre></td></tr></table></figure>
<p>/tmp 란 폴더를 두어서 별도의 로그관리를 하겠다는 의미이나 에러로그를 /dev/null 에 받게 하기 때문에,<br>결국 /tmp 폴더에는 별다른 로그가 쌓이지 않게 됩니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alias start=&apos;nohup java -jar healthcheck.jar &gt;&gt; /dev/null &amp;&apos;</span><br></pre></td></tr></table></figure>
<p>만약 이렇게 한다면 jar 파일 자체의 모든 out 스트림을 /dev/null 에 보내기 때문에 , 아예 동작을 하지 않거나 한번만 동작하고 더이상 실행이 안될 수 있습니다.<br>(nohup을 했기 때문에 프로세스는 계속 떠있습니다. ㅠㅜ)</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><p><a href="https://zetawiki.com/wiki//dev/null" rel="external nofollow noopener noreferrer" target="_blank">/dev/null</a></p>
</li>
<li><p><a href="https://ko.wikipedia.org/wiki/Nohup" rel="external nofollow noopener noreferrer" target="_blank">행의극복</a></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/10/2018-10-08-Scouter_APM/">Scouter APM 개발환경 구성하기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-10-02</time><div class="content"><p>2018년 10월 2일 기준,</p>
<p><a href="https://github.com/scouter-project/scouter/issues/499" rel="external nofollow noopener noreferrer" target="_blank">이슈사항</a>에 대해서 처리해보고 싶어서,<br>eclipse-jee-photon-R-win32-x86_64 이클립스 사용하여,</p>
<p>git으로,<br><a href="https://github.com/youngclown/scouter.git" rel="external nofollow noopener noreferrer" target="_blank">https://github.com/youngclown/scouter.git</a> 에서 import 로 받아 처리했습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">추출된 쿼리의 &quot;/&quot; (나누기 연산자 표현 누락현상)</span><br></pre></td></tr></table></figure>
<p>현상으로,</p>
<p><a href="https://youngclown.github.io/scouterLogParsers/">스카우터 쿼리 파서</a>를 만들어서 쓰다가,<br>해당 이슈로 인해,<br>강제로 “/“를 밀어넣는 로직을 구현할 수 밖에 없었습니다. (회사전용으로 특정 패턴시에 “/“를 강제로 삽입.)</p>
<p>간단하게 소스만봤을때 별도의 HttpEncoding을 하거나 특수문자를 삽입하는 부분이 없어, 그냥 넘기다가,<br>한번 기여해보고 싶어 제대로 된 분석을 하기 위해 셋팅을 하면서 기록을 남깁니다.</p>
<ol>
<li>Scouter Github 저장소에서 내 저장소로 Fork 한다.</li>
<li>fork 된 projects 를 내려받는다.</li>
<li>lombok 을 설치한다.</li>
<li>scala flugin 을 설치한다. Scala IDE (<a href="http://download.scala-ide.org/sdk/lithium/e44/scala211/stable/site" rel="external nofollow noopener noreferrer" target="_blank">http://download.scala-ide.org/sdk/lithium/e44/scala211/stable/site</a>)</li>
<li>build path를 확인하고, 만약 source 디렉토리에 /src/main/scala 가 포함되지 않았다면, 이를 포함시킨다.</li>
<li>scouter.server 프로젝트에 scala nature가 포함되지 않았다면, 이를 프로젝트에 포함시킨다. (configure &gt; scala nature)</li>
</ol>
<p>여기까지 처리해서 소스를 봤더니, 해당 이슈는 클라이언트쪽에서 제대로 파싱을 하지 못하는 이슈로 보여서, 분석을 해보려고했는데,<br>이미 3일 전에 해결했네요.</p>
<p>우선 분석하고 다음에 기여할 수 있도록 해야겠습니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/09/2018-09-18-nslookup/">nslookup 으로 cname 알기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-19</time><div class="content"><p>SE 하는 분이랑 CNAME 설정했는데,<br>해당 서버에서 동작이 안되는 이슈 때문에 정확한 CNAME 을 찾기 위해,<br>확인하다가…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup</span><br></pre></td></tr></table></figure>
<p>nslookup 으로,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\bymin&gt;nslookup naver.com</span><br><span class="line">서버:    kns.kornet.net</span><br><span class="line">Address:  168.126.63.1</span><br><span class="line"></span><br><span class="line">권한 없는 응답:</span><br><span class="line">이름:    naver.com</span><br><span class="line">Addresses:  210.89.160.88</span><br><span class="line">          125.209.222.142</span><br><span class="line">          125.209.222.141</span><br><span class="line">          210.89.164.90</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">C:\Users\bymin&gt;</span><br></pre></td></tr></table></figure>
<p>해당 서버의 어드레스를 알 수 있는 것을 알고 있었는데,<br>cname 까지 알 수 있는 것을 이번에 알게 되어 기록을 남깁니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\bymin&gt;nslookup</span><br><span class="line">기본 서버:  kns.kornet.net</span><br><span class="line">Address:  168.126.63.1</span><br><span class="line"></span><br><span class="line">&gt; set type=cname</span><br><span class="line">&gt; img.en-mobon.com</span><br><span class="line">서버:    kns.kornet.net</span><br><span class="line">Address:  168.126.63.1</span><br><span class="line"></span><br><span class="line">권한 없는 응답:</span><br><span class="line">img.en-mobon.com        canonical name = img.en-mobon.com.cdnga.net</span><br><span class="line"></span><br><span class="line">en-mobon.com    nameserver = ns3.gethompy.com</span><br><span class="line">en-mobon.com    nameserver = ns1.gethompy.com</span><br><span class="line">en-mobon.com    nameserver = ns2.gethompy.com</span><br><span class="line">en-mobon.com    nameserver = ns.gethompy.com</span><br><span class="line">ns.gethompy.com internet address = 218.145.65.143</span><br><span class="line">ns1.gethompy.com        internet address = 116.126.143.226</span><br><span class="line">ns2.gethompy.com        internet address = 218.145.65.144</span><br><span class="line">&gt; megaimg.en-mobon.com</span><br><span class="line">서버:    kns.kornet.net</span><br><span class="line">Address:  168.126.63.1</span><br><span class="line"></span><br><span class="line">권한 없는 응답:</span><br><span class="line">megaimg.en-mobon.com    canonical name = megaimg.en-mobon.com.cdnga.net</span><br><span class="line"></span><br><span class="line">en-mobon.com    nameserver = ns.gethompy.com</span><br><span class="line">en-mobon.com    nameserver = ns2.gethompy.com</span><br><span class="line">en-mobon.com    nameserver = ns1.gethompy.com</span><br><span class="line">en-mobon.com    nameserver = ns3.gethompy.com</span><br><span class="line">ns.gethompy.com internet address = 218.145.65.143</span><br><span class="line">ns1.gethompy.com        internet address = 116.126.143.226</span><br><span class="line">ns2.gethompy.com        internet address = 218.145.65.144</span><br><span class="line">ns3.gethompy.com        internet address = 116.126.143.225</span><br></pre></td></tr></table></figure>
<p>nslookup 으로 들어간 후<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set type=cname</span><br></pre></td></tr></table></figure></p>
<p>을 사용하여 cname을 입력한 후, 확인하고 싶은 dns이름을 검색하면되네요.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/09/2018-09-18-aduino_serial/">시리얼통신으로 자바와 아두이노 연동하기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-18</time><div class="content"><p>개인적인 취미로 숫자 키보드를 만들고 싶은데,<br>가지고 있는 아두이노는 UNO R3 와 UNO CH430 이 두기종.  </p>
<p>아두이노 키보드를 만들기위한 미니 아두이노도 구매했는데 분실해버리는 바람에,<br>현재 2개의 기종으로 숫자 키보드를 만들려고 합니다.  </p>
<p><a href="http://mitchtech.net/arduino-usb-hid-keyboard/" rel="external nofollow noopener noreferrer" target="_blank">참고주소</a><br>위의 참고주소를 가면, 친절하게 배선도와, 아두이노 소스코딩을 제공해줍니다.  </p>
<p>다만 문제는 제가 가지고 있는 기종이 키보드와 같은 하드웨어 인식이 안되는 R3와 CH430 인게 문제였네요.  </p>
<p>방법은,<br><a href="https://www.slideshare.net/dkserver/presentation1-40234926" rel="external nofollow noopener noreferrer" target="_blank">참고주소1</a><br><a href="https://splatspace.org/2015/04/using-an-arduino-as-an-hid/" rel="external nofollow noopener noreferrer" target="_blank">참고주소2</a><br>DFU (Device Firmware Update)을 처리해야합니다.  </p>
<p>CH430은 모르겠지만 R3는 저렇게 해서 가능하다고 하여<br>jumper 로 앞단자를 가리고,<br>순정 아두이노 펌웨어와, 아두이노 키보드 펌웨어 이렇게 2개를 처리해야한다고 하네요.  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Arduino-keyboard-0.3.hex  </span><br><span class="line">Arduino-usbserial-uno.hex</span><br></pre></td></tr></table></figure>
<p>펌웨어하는 방법도, 쉽지 않은데, 벽돌이 되면….<br>게다가 Arduino-keyboard-0.3.hex 적용하면,<br>아두이노 코딩 업로드가 안된다는 글까지 보게 되었습니다.  </p>
<p>그래서, 꼭 내가 하드웨어로 키보드 인식을 해서 쓸 것인지에 대한 고찰과 함께,<br>결론이 그냥 나는 텐키리스 키보드를 사면,  </p>
<p>숫자키가 허전해서, 3D 프린터로 숫자 키보드를 하나 만들고 싶고,<br>이미 가지고 있는 우노들을 이용하고 싶은 것뿐이더군요.  </p>
<p>그래서 인숙한 자바 Serial 통신방법을 찾게 되었습니다.<br><a href="https://kocoafab.cc/tutorial/view/596" rel="external nofollow noopener noreferrer" target="_blank">참고주소</a>  </p>
<p>참고 주소에서는<br>TxRx라이브러리를 받고난 뒤 압축을 풀고<br>RXTXcomm.jar는 %JAVAHOME%lib에 넣어주시고<br>rxtxSerial.dll는 %JAVAHOME%bin에 넣으라고 가이드를 주었는데,</p>
<p>저는 귀찮아서 java는 바로 프로젝트에서 import 받아서 처리했고,<br>rxtxSerial.dll 파일을 windows에 system32 폴더에 넣었습니다.</p>
<p>아두이노는 핀을 총 5개 사용했고 (연습삼아서… 나중에 매트릭스 구조로 다시 짜야함..)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;Boards.h&gt;</span><br><span class="line">#include &lt;FirmataConstants.h&gt;</span><br><span class="line">#include &lt;FirmataDefines.h&gt;</span><br><span class="line">#include &lt;FirmataMarshaller.h&gt;</span><br><span class="line">#include &lt;FirmataParser.h&gt;</span><br><span class="line"></span><br><span class="line">#define PIN_NUM3 3</span><br><span class="line">#define PIN_NUM4 4</span><br><span class="line">#define PIN_NUM5 5</span><br><span class="line">#define PIN_NUM6 6</span><br><span class="line">#define PIN_NUM7 7</span><br><span class="line"></span><br><span class="line">int state = 1;</span><br><span class="line"></span><br><span class="line">void setup()</span><br><span class="line">&#123;</span><br><span class="line">  Serial.begin(9600);</span><br><span class="line">  pinMode(PIN_NUM3, INPUT);</span><br><span class="line">  pinMode(PIN_NUM4, INPUT);</span><br><span class="line">  pinMode(PIN_NUM5, INPUT);</span><br><span class="line">  pinMode(PIN_NUM6, INPUT);</span><br><span class="line">  pinMode(PIN_NUM7, INPUT);</span><br><span class="line"></span><br><span class="line">  Serial.write(INPUT); // Send keypress</span><br><span class="line">  // enable internal pull-ups</span><br><span class="line">  digitalWrite(PIN_NUM3, 1);</span><br><span class="line">  digitalWrite(PIN_NUM4, 1);</span><br><span class="line">  digitalWrite(PIN_NUM5, 1);</span><br><span class="line">  digitalWrite(PIN_NUM6, 1);</span><br><span class="line">  digitalWrite(PIN_NUM7, 1);</span><br><span class="line"></span><br><span class="line">  delay(200);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void loop()</span><br><span class="line">&#123;</span><br><span class="line">  state = digitalRead(PIN_NUM3);</span><br><span class="line">  if (state != 1) &#123;</span><br><span class="line">    Serial.write(&apos;a&apos;); // Send keypress</span><br><span class="line">    delay(200);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = digitalRead(PIN_NUM4);</span><br><span class="line">  if (state != 1) &#123;</span><br><span class="line">    Serial.write(&apos;b&apos;); // Send keypress</span><br><span class="line">    delay(200);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = digitalRead(PIN_NUM5);</span><br><span class="line">  if (state != 1) &#123;</span><br><span class="line">    Serial.write(&apos;c&apos;); // Send keypress</span><br><span class="line">    delay(200);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = digitalRead(PIN_NUM6);</span><br><span class="line">  if (state != 1) &#123;</span><br><span class="line">    Serial.write(&apos;d&apos;); // Send keypress</span><br><span class="line">    delay(200);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  state = digitalRead(PIN_NUM7);</span><br><span class="line">  if (state != 1) &#123;</span><br><span class="line">    Serial.write(&apos;e&apos;); // Send keypress</span><br><span class="line">    delay(200);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>해당 값을 받아 처리하는 자바 클래스도 간단하게 구현하였습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">package aduino;</span><br><span class="line"></span><br><span class="line">import gnu.io.CommPort;</span><br><span class="line">import gnu.io.CommPortIdentifier;</span><br><span class="line">import gnu.io.SerialPort;</span><br><span class="line"></span><br><span class="line">import java.io.IOException;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.io.OutputStream;</span><br><span class="line"></span><br><span class="line">public class Serial</span><br><span class="line">&#123;</span><br><span class="line">    public Serial()</span><br><span class="line">    &#123;</span><br><span class="line">        super();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    void connect ( String portName ) throws Exception</span><br><span class="line">    &#123;</span><br><span class="line">        CommPortIdentifier portIdentifier = CommPortIdentifier.getPortIdentifier(portName);</span><br><span class="line">        if ( portIdentifier.isCurrentlyOwned() )</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(&quot;Error: Port is currently in use&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        else</span><br><span class="line">        &#123;</span><br><span class="line">            //클래스 이름을 식별자로 사용하여 포트 오픈</span><br><span class="line">            CommPort commPort = portIdentifier.open(this.getClass().getName(),2000);</span><br><span class="line"></span><br><span class="line">            if ( commPort instanceof SerialPort )</span><br><span class="line">            &#123;</span><br><span class="line">                //포트 설정(통신속도 설정. 기본 9600으로 사용)</span><br><span class="line">                SerialPort serialPort = (SerialPort) commPort;</span><br><span class="line">                serialPort.setSerialPortParams(9600,SerialPort.DATABITS_8,SerialPort.STOPBITS_1,SerialPort.PARITY_NONE);</span><br><span class="line"></span><br><span class="line">                //Input,OutputStream 버퍼 생성 후 오픈</span><br><span class="line">                InputStream in = serialPort.getInputStream();</span><br><span class="line">                OutputStream out = serialPort.getOutputStream();</span><br><span class="line"></span><br><span class="line">                 //읽기, 쓰기 쓰레드 작동</span><br><span class="line">                (new Thread(new SerialReader(in))).start();</span><br><span class="line">                (new Thread(new SerialWriter(out))).start();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(&quot;Error: Only serial ports are handled by this example.&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;     </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /** */</span><br><span class="line">    //데이터 수신</span><br><span class="line">    public static class SerialReader implements Runnable</span><br><span class="line">    &#123;</span><br><span class="line">        InputStream in;</span><br><span class="line"></span><br><span class="line">        public SerialReader ( InputStream in )</span><br><span class="line">        &#123;</span><br><span class="line">            this.in = in;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void run ()</span><br><span class="line">        &#123;</span><br><span class="line">            byte[] buffer = new byte[1024];</span><br><span class="line">            int len = -1;</span><br><span class="line">            try</span><br><span class="line">            &#123;</span><br><span class="line">                while ( ( len = this.in.read(buffer)) &gt; -1 )</span><br><span class="line">                &#123;</span><br><span class="line">                	String temp = new String(buffer,0,len);</span><br><span class="line">                    if (&quot;a&quot;.equals(temp)) &#123;</span><br><span class="line">                    	Process oProcess = new ProcessBuilder(&quot;notepad.exe&quot;).start();</span><br><span class="line">                    &#125; else if (&quot;b&quot;.equals(temp)) &#123;</span><br><span class="line">                    	Process oProcess = new ProcessBuilder(&quot;calc.exe&quot;).start();</span><br><span class="line">                    &#125; else if (&quot;c&quot;.equals(temp)) &#123;</span><br><span class="line">                    	Process oProcess = new ProcessBuilder(&quot;control&quot;).start();</span><br><span class="line">                    &#125; else if (&quot;d&quot;.equals(temp)) &#123;</span><br><span class="line">                    	Process oProcess = new ProcessBuilder(&quot;D:\\workset\\eclipse-jee-photon-R-win32-x86_64\\eclipse\\eclipse.exe&quot;).start();</span><br><span class="line">                    &#125; else if (&quot;e&quot;.equals(temp)) &#123;</span><br><span class="line">                    	Process oProcess = new ProcessBuilder(&quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2018.2.3\\bin\\idea64.exe&quot;).start();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            catch ( IOException e )</span><br><span class="line">            &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /** */</span><br><span class="line">    //데이터 송신</span><br><span class="line">    public static class SerialWriter implements Runnable</span><br><span class="line">    &#123;</span><br><span class="line">        OutputStream out;</span><br><span class="line"></span><br><span class="line">        public SerialWriter ( OutputStream out )</span><br><span class="line">        &#123;</span><br><span class="line">            this.out = out;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public void run ()</span><br><span class="line">        &#123;</span><br><span class="line">            try</span><br><span class="line">            &#123;</span><br><span class="line">                int c = 0;</span><br><span class="line">                while ( ( c = System.in.read()) &gt; -1 )</span><br><span class="line">                &#123;</span><br><span class="line">                    this.out.write(c);</span><br><span class="line">                &#125;                </span><br><span class="line">            &#125;</span><br><span class="line">            catch ( IOException e )</span><br><span class="line">            &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static void main ( String[] args )</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            (new Serial()).connect(&quot;COM4&quot;); //입력한 포트로 연결</span><br><span class="line">        &#125;</span><br><span class="line">        catch ( Exception e )</span><br><span class="line">        &#123;</span><br><span class="line">            // TODO Auto-generated catch block</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>변경되는 port 에 대한 변경값 입력하는 방법을 args로 받아 처리하면서,<br>별도의 jar로 실행하는 방법만 고민하면,<br>텐키리스 사용하면서 숫자 키보드를 만들 수 있을 거 같습니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/09/2018-08-20-removeFirstPrenpend/">removeFirstPrenpend</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-12</time><div class="content"><h2 id="요소-속성"><a href="#요소-속성" class="headerlink" title=" 요소 속성"></a><dynamic> 요소 속성</dynamic></h2><p>dynamic 태크는 다른 동적 sql요소를 포장하고 결과적인 내용물을 위해 prepend, open, close를 수행하기 위해 제공되는 간단한 태그입니다.</p>
<p>prepend<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">속성값을 요소 내용의 가장 앞에 붙이기 위해 사용한다. prepend의 값은 요소 내용이 공백일 때는 앞에 붙이지 않는 다.</span><br></pre></td></tr></table></figure></p>
<p>open<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">open 값은 요소 내용에 접두사로 붙이기 위해 사용한다. open 값은 요소 내용이 공백일 때는 출력되지 않는다. open 값은 prepend 속성 값보다는 뒤에 붙는다.</span><br><span class="line">예를 들면 prepend=&quot;WHEN&quot; 이고 open=&quot;(&quot; 라면 조합된 결과는 &quot;WHEN (&quot; 가 될 것이다.</span><br></pre></td></tr></table></figure></p>
<p>close<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">close 값은 요소 내용의 뒤에 덧붙이기 위해 사용한다. 이 값은 요소 내용이 공백이라면 출력되지 않는다.</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;statement id=&quot;dynamicGetAccountList&quot; resultMap=&quot;account-result&quot;&gt;</span><br><span class="line">  select * from account</span><br><span class="line">  &lt;dynamic prepend=&quot;WHERE&quot;&gt;</span><br><span class="line">    &lt;isNotNull prepend=&quot;AND&quot; property=&quot;firstName&quot;&gt;</span><br><span class="line">       acc_first_name = #firstName#</span><br><span class="line">    &lt;isNotNull prepend=&quot;OR&quot; property=&quot;lastName&quot;&gt;</span><br><span class="line">       acc_last_name = #lastName#</span><br><span class="line">    &lt;/isNotNull&gt;</span><br><span class="line">    &lt;/dynamic&gt;</span><br><span class="line">order by acc_last_name</span><br><span class="line">&lt;/statement&gt;</span><br></pre></td></tr></table></figure>
<p>위와같은 dynamic 쿼리를 사용할 경우, firstName 와 lastName. 이 두가지 값이 있다면,<br>당연하게도 where 다음에는 and가 바로 붙을 경우,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from account where and acc_first_name = #firstName# or acc_last_name = #lastName#</span><br></pre></td></tr></table></figure>
<p>이런 이상한 구문이 완성될 것이라고 생각했습니다.<br>분명 prepend 로 인해 구문 오류가 발생할 것이라고 생각한 것입니다.  </p>
<p>하지만,</p>
<p>이 태그를 사용할 때 removeFirstPrepend속성이 강제로  적용된다고 합니다.<br>즉 맨 처음 나오는 prepend속성놈은 강제로 생략된다는 이야기로,<br>dynamic 태그안에 removeFirstPrepend = true가 적용은 되지만 생략된 채로 있다고 보면 됩니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><p><a href="http://syaku.tistory.com/51" rel="external nofollow noopener noreferrer" target="_blank">iBATIS 동적 WHERE 절 다루기 위한 요소 설명</a></p>
</li>
<li><p><a href="http://narrowway.tistory.com/79" rel="external nofollow noopener noreferrer" target="_blank">iBatis 동적 쿼리문 생성</a></p>
</li>
<li><p><a href="http://javafactory.tistory.com/354" rel="external nofollow noopener noreferrer" target="_blank">dynamic 태그, isParameterPresent, removeFirstPrepend 설명</a></p>
</li>
<li><p><a href="http://ibatis.apache.org/docs/dotnet/datamapper/ch03s09.html" rel="external nofollow noopener noreferrer" target="_blank">Dynamic SQL</a></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/09/2018-09-01-svn_export/">자동 배포 SVN HOOKS</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-10</time><div class="content"><p>개인 Team 프로젝트(?) 진행을 하는데, php 밖에 모른다고 하는 팀원 때문에,<br>php 로 개발 중입니다.</p>
<p>이 팀원이 요구사항이 많은 사람입니다.<br>첫번째 요구사항은,<br>요구사항을 local host 에서 테스트할 수 없으니 서버에 바로 반영하겠다라고 했습니다.</p>
<p>당연히 테스트가 안된 소스를 운영에 올릴 수는 없고,<br>현업을 해야하니,<br>서버에 바로 반영할 수 없고 git 설치로 별도의 형상관리를 두어 local test 후에,<br>서버에 반영해주겠다고했으나,</p>
<p>git은 해본적없고 하고싶지 않으니 svn을 해달라고 합니다.</p>
<p>두번째 요구사항인 svn 을 설정했더니 실서버에 바로 반영을 못한다면 개발서버를 구축해달라고했습니다.<br>그개발서버의 전제조건이, 커밋을 하면 바로 적용될 수 있는 개발서버입니다.  </p>
<p>처음에는 젠킨스를 설치하고 뭔가하려고 했는데,<br>simple is best 라고,<br>그냥 hooks 기능을 사용하여 처리하려고 합니다.</p>
<h2 id="SVN-에서-강제로-특정-경로로-export-하는-명령어입니다"><a href="#SVN-에서-강제로-특정-경로로-export-하는-명령어입니다" class="headerlink" title="SVN 에서 강제로 특정 경로로 export 하는 명령어입니다."></a>SVN 에서 강제로 특정 경로로 export 하는 명령어입니다.</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/svn/hooks</span><br></pre></td></tr></table></figure>
<p>hooks 폴더의 post-commit 파일을 만들고,<br>해당 파일의 맨앞에 썻던,  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn export --force svn://url /home/svn/gnuboard5/txt</span><br></pre></td></tr></table></figure>
<p>를 적용합니다.  </p>
<p>훅(hook) 은 특정 이벤트가 발생하면 동작하는 프로그램을 의미하고, post-commit 은 커밋이 발생했을 때를 의미합니다.<br>훅 은 동작 방식에 따라 크게 2가지로 나눌 수 있습니다.</p>
<p>첫 번째는 이벤트가 처리되기전에 수행되는 pre-훅 으로,<br>pre-훅 을 이용하면 커밋전에 커밋 메시지가 정책에 맞는지, 파일이 추가될 경우 파일형식이 저장소 관리 규칙에 맞는지 등을 검사하여 규칙에 어긋나면 커밋을 거부하게 동작할 수 있습니다.</p>
<p>다른 하나는 이벤트가 완전히 끝난후에 수행되는 post 훅 입니다.<br>이것을 이용하면 커밋이 완료되면 프로젝트 팀원들에게 메일을 보내거나,<br>지속적인 통합 서버에 통보하여 커밋된 내용을 업데이트하여 자동으로 빌드를 수행하거나 이슈 관리에서 커밋 내역을 인덱싱하는 등의 작업을 수행할 수 있습니다.  </p>
<p>java 의 경우에는 별도의 shell 로 빼서, export 후 build 를 하거나 jar 로 묻거나 하는 별도의 컴파일이 필요하지만,<br>jsp 나 php 의 경우는 해당 경로에 바로 올려서 처리가 가능하므로,<br>간단하게 처리해서 제공해주었습니다.  </p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="https://www.lesstif.com/pages/viewpage.action?pageId=18220003" rel="external nofollow noopener noreferrer" target="_blank">hook script 로 svn 동작 제어하기</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-08-20-url_special_scheme/">url special scheme</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><p>http://,ftp://,market://과 같은 문자열을 url scheme이라 부릅니다.</p>
<p><a href="https://sejoung.github.io/2018/08/url_special_scheme" rel="external nofollow noopener noreferrer" target="_blank">url special scheme</a> 에서 처리된 내용을 첨부합니다.</p>
<p>위키피디아에 대한 내용입니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//americanbilliardclub.com/about/history/</span><br><span class="line">http://americanbilliardclub.com/about/history/</span><br></pre></td></tr></table></figure></p>
<p>두개의 링크가 존재했을 때,<br>위키피디아의 화면은 https 입니다.<br>클릭시, americanbilliardclub.com 의 도메인을 가진 홈페이지는 https 를 대응하지 않는 사이트로,<br>강제로 http를 넣으면 잘되지만,<br>// 만 넣고 스키마를 넣지 않은 도메인에서는 위키피디아의 https 를 그대로 사용하기 때문에,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">이 페이지를 표시할 수 없습니다.</span><br></pre></td></tr></table></figure>
<p>라는 메시지가 뜨게 됩니다.<br>// 만 사용할 경우, Protocol-Relative URL로 현재 쓰고있는 프로토콜을 명시합니다.<br>현재 접속한 페이지는 https 이니 https://와 동일해집니다.<br>만약 접속한 페이지가 http 면 자동으로 http로 변환해줍니다.</p>
<p>여지까지 개발시, 동적 https 와 http를 판단하기 위해서는,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var url = (&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//xxx&quot;;</span><br></pre></td></tr></table></figure>
<p>document.location.protocol 을 사용하여 판단하거나 java 단에서는 헤더정보를 이용하여 판단했습니다.<br>광고솔류션의 경우,<br>어떤 매체, 어떤 광고주에 우리 스크립트가 삽입되는지, 개발자가 일일이 신경쓰지 못할 경우,<br>사용자에 따라 http, https 가 다양하게 들어올 경우에 대한 대응 책으로,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;//code.jquery.com/jquery-2.2.3.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>가 우선적으로 처리되고 있지만, 해당 기술은 2010년도에 나온 little trick 입니다.<br>이미 2014년도에 사용하지 않게 지양되고 있는 기술입니다.  </p>
<p>URL 표준에는 없지만 Uniform Resource Identifier (URI) 표준인 <a href="https://tools.ietf.org/html/rfc3986#section-4.2" rel="external nofollow noopener noreferrer" target="_blank">rfc3986#section-4.2</a>에서 명시하고 있습니다.</p>
<p>남용하지 말아야한다는 이야기입니다.<br>http 일지 https 일지 모르는 브라우져에서,<br>무언가를 해야한다면,<br>그냥 https 를 사용하는 게 좋다고 결론이 나오는 거 같다는 결론이 나옵니다.  </p>
<p>다만, 왜 광고솔류션 특징상 본인의 홈페이지에 iframe이나 script나 image가 삽입되는 것이 아니므로,<br>정확하게 보안이슈가 아닌 어찌해서 안되는 지에 대한 부분을 조금 더 찾아봐야할 거 같습니다.<br>좀더 좋지 않았을 까 싶은데, 해당 내용을 찾기가 어렵네요.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://url.spec.whatwg.org/#special-scheme</span><br></pre></td></tr></table></figure>
<p>어디에도 ‘//‘를 사용해도 좋다라는 글은 없으며, 테스트할 때,<br>크롬에서 about:// 이 스키마로 붙는 경우가 생겨, 해당 문제에 대해 고찰했습니다.</p>
<p>사용가능한 경우는<br>a, link element, href attribute 정도로 국한해서 처리되었으면 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe src=&quot;about:blank&quot; width=&quot;300&quot; height=&quot;120&quot; &gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure>
<p>예를 들어, iframe 의 src는 about:blank 로 되어있으며,<br>해당 iframe 안에서 팝업이 뜬 상태에서 부모창을 제어할 때, about://도메인 으로 호출하는 구조가 되게 되므로,<br>이 경우에는 “//도메인”형태를 사용해서는 안됩니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Wikipedia:Protocol-relative_URL" rel="external nofollow noopener noreferrer" target="_blank">Wikipedia:Protocol-relative URL</a></p>
</li>
<li><p><a href="https://www.jeremywagner.me/blog/stop-using-the-protocol-relative-url/" rel="external nofollow noopener noreferrer" target="_blank">Stop Using the Protocol-relative URL</a></p>
</li>
<li><p><a href="https://www.paulirish.com/2010/the-protocol-relative-url/" rel="external nofollow noopener noreferrer" target="_blank">The Protocol-relative URL</a></p>
</li>
<li><p><a href="https://en.wikipedia.org/wiki/About_URI_scheme" rel="external nofollow noopener noreferrer" target="_blank">about scheme</a></p>
</li>
<li><p><a href="http://w3-org.9356.n7.nabble.com/path-abempty-in-URI-td170118.html" rel="external nofollow noopener noreferrer" target="_blank">Login Register path-abempty in URI</a></p>
</li>
<li><p><a href="https://sejoung.github.io/2018/08/url_special_scheme" rel="external nofollow noopener noreferrer" target="_blank">SENSE ARIGATO</a></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-08-27-GCP_SVN/">GCP 에 SVN 설치해보자</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><h2 id="GCP-설정"><a href="#GCP-설정" class="headerlink" title="GCP 설정"></a>GCP 설정</h2><ul>
<li>Compute Engine 에서 VM 인스턴스 등록<br>제일 싼게 (us-east1 : 사우스캐롤라이나) 로 초소형(0.6G) 메모리에 10GB 사용시, 4.28 달러만 사용합니다.<br>부팅디스크는  CentOS 7(x86_64 built on 20180815)로 설정했습니다.</li>
</ul>
<p>옵션은 HTTP, HTTPS 둘다 트래픽 허용으로 연습합니다.<br>(SVN 으로 연결 후 해당 페이지까지 띄우기 하려고 합니다.)</p>
<p>등록이 완료되면 바로 처리해야할 것이 3가지 있습니다.</p>
<ul>
<li>메타데이터에 ssh_key 등록 (로그인 때문에)</li>
<li>고정 IP 신청</li>
<li>root 비밀번호 설정</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VPC 네트워크 &gt; 외부 IP 주소</span><br></pre></td></tr></table></figure>
<p>고정 IP 는 VPC 네트워크 &gt; 외부 IP 주소가서 아이피를 고정으로 신청해야합니다.<br>이미 고정된 주소가 있고 인스턴스에서 사용하지 않으면 초당 금액이 나간다고 합니다. ㅎㄷㄷ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Compute Engine &gt; 메타데이터 &gt; SSH</span><br></pre></td></tr></table></figure>
<p>Compute Engine &gt; 메타데이터 &gt; SSH 키를 등록합니다.<br>SSH 키를 생성하고 등록하는 법은 다 알테니, 해당 부분은 지나갑니다.<br>저는 Xshell 로 했고, 등록한 ssh_key 뒤에 한칸뛰고 접속할 아이디를 bymin 으로 정했습니다.<br>로그인시에는 bymin 으로 접속합니다.</p>
<p>sudo passwd<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd</span><br></pre></td></tr></table></figure></p>
<p>로그인을 한 후에 root 권한의 비밀번호를 설정합니다.</p>
<p>ETC<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">FTP 접속 설치</span><br><span class="line">yum -y install vsftpd</span><br><span class="line">vi /etc/vsftpd/vsftpd.conf</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install htop : HTOP 이라는 모니터링 툴</span><br><span class="line">yun install java : 자바를 설치하자! (나중에 쓰겠지..)</span><br></pre></td></tr></table></figure>
<p>이제 SVN 설치!<br>실제로 GIT 을 사용하고 싶었으나, 해당 서버를 형상관리로 쓰고 싶어하는 지인분이 GIT은 모르겠고 SVN 으로 하고 싶다고,<br>그리고 PHP 를 띄우고 싶다고 해서….</p>
<h2 id="svn-설치-git-쓰고싶다"><a href="#svn-설치-git-쓰고싶다" class="headerlink" title="svn 설치 (git 쓰고싶다)"></a>svn 설치 (git 쓰고싶다)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install subversion</span><br></pre></td></tr></table></figure>
<p>svn 의 repository 를 설정할 폴더를 변경합니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/svnserve</span><br><span class="line">``` </span><br><span class="line">```aidl</span><br><span class="line"></span><br><span class="line"># OPTIONS is used to pass command-line arguments to svnserve.</span><br><span class="line"># </span><br><span class="line"># Specify the repository location in -r parameter:</span><br><span class="line">OPTIONS=&quot;-r /home/svn&quot;</span><br></pre></td></tr></table></figure></p>
<p>/home/svn 으로 변경했습니다.</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svnadmin create --fs-type fsfs repos</span><br></pre></td></tr></table></figure>
<p>/home/svn 으로 이동하여 repos 라는 폴더를 만듭니다.<br>해당 폴더를 만들면 폴더 안에는,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">drwxrwxrwx. 2 root root  54 Aug 26 08:34 conf</span><br><span class="line">drwxrwsrwx. 6 root root 253 Aug 26 09:14 db</span><br><span class="line">-rwxrwxrwx. 1 root root   2 Aug 26 08:31 format</span><br><span class="line">drwxrwxrwx. 2 root root 231 Aug 26 08:31 hooks</span><br><span class="line">drwxrwxrwx. 2 root root  41 Aug 26 08:31 locks</span><br><span class="line">-rwxrwxrwx. 1 root root 229 Aug 26 08:31 README.txt</span><br></pre></td></tr></table></figure>
<p>위와같은 파일이 만들어집니다. 권한은 보지 말아주세요. ㅠㅜ<br>권한오류가 발생해서 계속 원인파악하다가 권한을 저렇게 바꾸었습니다;</p>
<p><a href="https://zetawiki.com/wiki/CentOS_%EC%84%9C%EB%B8%8C%EB%B2%84%EC%A0%84_%EC%84%9C%EB%B2%84_%EC%84%A4%EC%B9%98_%EB%B0%8F_%EC%84%A4%EC%A0%95_(svn" rel="external nofollow noopener noreferrer" target="_blank">svn 제타위키</a>)<br>그 이후의 설정은 svn 제타위키를 보는 것이 더 낫습니다.</p>
<p>svnserve.conf 수정하여,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[general]</span><br><span class="line">anon-access = none</span><br><span class="line">auth-access = write</span><br><span class="line">password-db = passwd</span><br><span class="line">authz-db = authz</span><br></pre></td></tr></table></figure></p>
<p>위와같이 등록합니다. 기존 주석된 부분을 빼는 걸로 해결하셔도 되며, 주석을 푸실때,<br>anon-access = read 로 되어있는 부분을 none 으로만 바꿔주시면됩니다.</p>
<p>passwd와 authz 파일을 사용하도록 했으니 해당 파일도 수정합니다.</p>
<p>authz 는 모든 권한을 부여하도록,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[/]</span><br><span class="line">*=rw</span><br></pre></td></tr></table></figure></p>
<p>절대 경로의 rw 를 주었으며, passwd는 아이디=패스워드 형태로 등록하시면됩니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[users]</span><br><span class="line">testuser1 = P@ssw0rd</span><br><span class="line">testuser2 = P@ssw0rd</span><br></pre></td></tr></table></figure></p>
<p>서비스 시작은 다음과 같습니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service svnserve start</span><br></pre></td></tr></table></figure></p>
<p>start, stop, restart 등으로 제어하도록 합니다.</p>
<p>다 작업을 하고 커밋을 하려고 했을때 발생한 오류는 2건이었습니다.<br>첫번째는 방화벽 문제입니다.</p>
<p>GCP 설정을 하면 방화벽이 자동으로 설정되는데요.<br>svn://ip 로 접속하면 svn의 defaul 포트인 3690 을 열어주셔야합니다.</p>
<p>VPC 네트워크 &gt; 방화벽 규칙에, 수신에 3690을 추가해줍니다. </p>
<p>2번째가 Permission Denied 문제였는데요.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod -R go+w /home/svn/</span><br></pre></td></tr></table></figure></p>
<p>서버에 모든 하위 권한에 접속권한을 부여해줘봤습니다…. 그래도 안됩니다.<br>구글링을 해보니,<br>/etc/sysconfig/selinux 파일을 여셔서 SELINUX=enforcing를 SELINUX=disable로 바꾸신 뒤 재부팅 하면 된다고 해서,<br>해봤습니다.</p>
<p>재부팅하니 잘되네요.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">shutdown [옵션] [시간] [메시지]</span><br><span class="line">-t n : 경고 메세지를 보낸 후 n초 후에 kill 시그널을 보낸다.</span><br><span class="line">-h : shutdown시 halt를 실행하게 한다.</span><br><span class="line">-n : 디스크 동기화 동작의 수행을 금지한다.</span><br><span class="line">-r : 시스템을 재부팅한다.</span><br><span class="line">-f : 다음 부팅시 파일시스템 검사를 하지 않는다.</span><br><span class="line">-c : 이미 예약되어 있는 shutdown을 취소한다. 이 옵션을 둔다면 시간인수는 줄 수 없다.</span><br><span class="line">      하지만 메시지는 사용자들에게 줄 수 있다.</span><br><span class="line">-k : 모든 동작을 제대로 수행하지만, 실제로 시스템을 종료하지는 않는다.</span><br><span class="line">시스템 종료시 가장 자주 사용되는 방식 : shutdown -h now</span><br><span class="line">시스템 재부팅시 자장 자주 사용되는 방식 : shutdown -r now</span><br><span class="line">시스템 종료 예약 : shutdown -h 10 (10분 후에 시스템을 종료한다.)</span><br></pre></td></tr></table></figure>
<p>음, <a href="https://www.lesstif.com/pages/viewpage.action?pageId=6979732" rel="external nofollow noopener noreferrer" target="_blank">SELinux</a> 는 Linux의 보안을 강화해 주는 보안 강화 커널이고 zero-day 공격 및 buffer overflow 등 어플리케이션 취약점으로 인한 해킹을 방지해 주는 핵심 구성요소라고 하네요.<br>특정 서비스가 SELinux 때문에 동작하지 않는다면 SELinux 를 끄기 보다는 해당 서비스가 SELinux 하에서 잘 동작하도록 설정을 수정하는걸 권장한다고 하는데,<br>우선은 SVN 적용을 하려고 한 것이고,<br>여기에 mysql 도 등록하고 외부에서 접속시킬건데, 이 부분에 계속 문제가 생길 것으로 보여,<br>disable 처리했습니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="../2/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="../../">1</a><a class="page-number" href="../2/">2</a><span class="page-number current">3</span><a class="page-number" href="../4/">4</a><span class="space">&hellip;</span><a class="page-number" href="../11/">11</a><a class="extend next" rel="next" href="../4/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2019 By bymin</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" rel="external nofollow noopener noreferrer" target="_blank"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" rel="external nofollow noopener noreferrer" target="_blank"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="../../js/utils.js?version=1.6.1"></script><script src="../../js/fancybox.js?version=1.6.1"></script><script src="../../js/sidebar.js?version=1.6.1"></script><script src="../../js/copy.js?version=1.6.1"></script><script src="../../js/fireworks.js?version=1.6.1"></script><script src="../../js/transition.js?version=1.6.1"></script><script src="../../js/scroll.js?version=1.6.1"></script><script src="../../js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>