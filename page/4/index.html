<!DOCTYPE html><html lang="lang"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="잘정리하자"><meta name="keywords" content><meta name="author" content="bymin"><meta name="copyright" content="bymin"><title>bymin | 젊은광대 기술블로그</title><link rel="shortcut icon" href="../../melody-favicon.ico"><link rel="stylesheet" href="../../css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="../../img/avatar.png"></div><div class="author-info__name text-center">bymin</div><div class="author-info__description text-center">잘정리하자</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="../../archives"><span class="pull-left">Articles</span><span class="pull-right">109</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="../../index.html">젊은광대 기술블로그</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">젊은광대 기술블로그</div><div id="site-sub-title">bymin</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-08-19-SSHD/">개인 서버 보안 설정</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><p>대부분 개인 서버 관리를 하는데,<br>집에 설치하는 사람도 있고, 나처럼 매달 서버비를 내면서 개인서버를 운영하는 사람도 있겠죠.</p>
<p>국내에 동일 사양이 4만원 대인 반면, 해외에 해당 사양은 1만원 이하인 경우가 많아,<br>해외 서버를 이용합니다.</p>
<p>가장 먼저 설치하는 것은</p>
<p>htop 입니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install htop</span><br></pre></td></tr></table></figure>
<p>그냥 서버 상태 모니터링인데, cpu 나 mem을 볼때 자주 이용합니다.<br>해외 서버를 사용하면,<br>참 골치아픈게, 해킹이라고 할지 로그인 시도가 엄청 들어옵니다.</p>
<p>첫번째 방어하기 위해 fail2ban 을 설치했습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f /var/log/secure</span><br></pre></td></tr></table></figure>
<p>secure 로그를 보면 전혀 이상한 ip(중국, 태국)에서 로그인시도를 계속 합니다.<br>fail2ban 이 하는 역활은,<br>계속 반복해서 접속하는 로그인 실패하는 특정 ip를 바로 차단하는 건데….</p>
<p>ip가 계속 바뀌면서 로그인을 시도합니다.</p>
<p>bind 기능을 설치해봤습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind bind-utils -y</span><br></pre></td></tr></table></figure>
<p>별 소용이 없습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /var/log/secure | grep Accepted | awk &apos;&#123;print $9&quot;\t&quot;$11&quot;\t&quot;$14&#125;&apos; | sort | uniq</span><br></pre></td></tr></table></figure>
<p>그러다가 문득 제타위키에서 ssh 접속 허용을 만든 방법이 있더군요.</p>
<p><a href="https://zetawiki.com/wiki/%ED%8A%B9%EC%A0%95_IP%EB%A7%8C_SSH_%EC%A0%91%EC%86%8D_%ED%97%88%EC%9A%A9%ED%95%98%EA%B8%B0" rel="external nofollow noopener noreferrer" target="_blank">참고주소</a></p>
<p>/etc/hosts.allow 수정하는 방법입니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># hosts.allow	This file describes the names of the hosts which are</span><br><span class="line">#		allowed to use the local INET services, as decided</span><br><span class="line">#		by the &apos;/usr/sbin/tcpd&apos; server.</span><br><span class="line">#</span><br><span class="line">sshd: 113.157.124.168, 135.79.246.</span><br></pre></td></tr></table></figure>
<p>→ 113.157.124.168와 135.79.246.XXX 대역을 허용</p>
<p>위와 같이 특정 아이피만 허용해서 로그인을 하면, 외부의 유입에 대해 걱정을 안할 수 있게 되었습니다.</p>
<p>회사에서 접속할때는 회사가 고정ip라 문제가 없지만,<br>집에서 접속할때는 가끔 ip가 바뀌는 경우가 있어, 그 부분에 대한 문제가 있지만,<br>해외 관리 서버들은 대부분 웹(브라우져)에서 접속할 방법이 있어,<br>웹에서 접속해서,</p>
<p>vi /etc/hosts.allow 로 접근합니다.</p>
<p>참고로, 해당 방법은 로그인만 차단하는 것으로,<br>db, svn, ftp 등의 다른 포트의 접근을 막는건 아닙니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-08-05-JAVA08_01/">JAVA9 Module</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><p>시작 ====</p>
<p>자바 언어에서는 이미 전체 프로젝트를 모듈화하는 기본적인 기재들은 갖추고 있다.<br>jar, war 등을 써서 이미 필요한 부분을 떨어뜨릴 수 있고,</p>
<p>그렇기 때문에 그런것들을 다운받아서, 라이브러리로 받아서 한글처리나,<br>구아바, RXJava 같은 비동기 라이브러리가 되었든, 새로 개발하지 않고 사용 가능하다.</p>
<p>사실 내가 짜고 있는 프로그램에서도, interface 를 잘 쓰면 모듈화가 가능하다.<br>자바에서는 패키지를 제공하기 때문에 3 dept, 4 dept 처럼 단계를 가지고,<br>자바 언어에서 제공해주는 public, private 등을 이용하여 기본적인 구조화, 모듈화가 가능하다.</p>
<p>그럼에도 불구하고 왜 이런 모듈이란 새로운 게 나왔는지, 기존것과 무엇이 다른지를 이해해야한다.</p>
<p>자바 9의 언어의 모듈화는 어떻게 되었을까?</p>
<ol>
<li>javadoc 이 달라졌다.<br><a href="https://docs.oracle.com/javase/10/docs/api/index.html?overview-summary.html" rel="external nofollow noopener noreferrer" target="_blank">https://docs.oracle.com/javase/10/docs/api/index.html?overview-summary.html</a></li>
</ol>
<p>예전 자바doc을 들어가면 좌측은 패키지와 우측은 해당 패키지의 doc이었는데, 좌측 상단의 모듈들이 생기게 되었다.<br>모듈에서 패키지가 나온다.</p>
<p>base 모듈을 들어가보면,<br>Exports Package 라는 항목이 나온다.</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>java.io</td>
<td>Provides for system input and output through data streams, serialization and the file system.</td>
</tr>
<tr>
<td>java.lang</td>
<td>Provides classes that are fundamental to the design of the Java programming language.</td>
</tr>
</tbody>
</table>
<p>provides 와 usec 는 서비스입니다.</p>
<p>자바 내부가 모듈화가 되었다는 첫번째 의미로 보았을, 여지껏 패키지로 모듈화가 되었다고 한다면,<br>JAVA 7 기준으로 서로가 서로를 참조하는 매우 어려운 구성에서,<br>JAVA 9 에서는 모듈화가 되면서 조금더 간략하게 되었다.</p>
<p>트리구조는 아래쪽을 띄어내서 모듈화하기 쉽지만,<br>A &gt; B &gt; C &gt; D &gt; A 구조와 같은 순환처리를 하게 되면 트리구조와는 다르게 띄어내기가 힘들다.<br>그래서 JDK 라는 전체 클래스가 5천개가 넘는데, 해당 클래스들의 순환참조를 다 끊어냈다가,<br>2년여간에 걸쳐 Project jigsaw (모듈화된 JDK)라는 이름하에 다 끊어냈다.<br>java.se 를 보더라도 순환처리가 없는 것을 알 수 있다.</p>
<p>모듈로 패키징하여 서로간의 순환참조를 하지 않도록 구성했다.<br>이것이 가능해지면서 기존에는 불가능한 구조가 가능하게 되었다.</p>
<p>원래는 2017년 9월에 나왔는데 2016년 초에 나오는게 목표였는데, 2016년부터 자바의 라이브러리를 만드는 최신 트랜드를 고민하는 개발자들은,<br>내가 가진 라이브러리로 고정부와 변동부, 확장과 기본, 아니면 계열분리와 같은 식으로,<br>라이브러리를 재작성하는 사례들이 있었다.</p>
<p>RxJava 도 그런 형태로 그렇고,<br>JUnit 또한 테스트 프로그램을 만들 때, JUnit5 가 모듈화되어서 나왔다.<br>테스팅을 하는 일반적인 JUnit5, Junit 쥬피터, Junit3나 4에 대한 레거시를 확장가능한 Junit 빈티지 와 같은 3개의 라이브러리를 모듈화하여 나왔었다.<br>(JUnit 5 = JUnit platform + JUnit Jupiter + Junit vinatage)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- foundaton for launching testung frameworks on the JVM</span><br><span class="line">- the combination of the new programming model and extension model for writing test and extenstions Junit 5</span><br><span class="line">- TestEngine for running JUnit 3 and JUnit 4 based tests on the platform</span><br></pre></td></tr></table></figure>
<p>솔직히 이렇게 하려면 어렵다. 고정부와 변동부를 쪼갠다는 건 매우 어려운 일이다.<br>관리자들이 이게 왜 필요한지를 모른다. 실제로 고정부와 변동부를 잘 쪼갰는지에 대해서는<br>잘 이해하기 어렵다. 그랬을 경우 성능은 떨어지지 않았는지에 대한 고민 또한 필요하다.</p>
<ol>
<li><p>자바 언어에서 모듈이란 키워드가 추가되었다.<br>그리고 모듈이란 키워드는 module-info.java에 들어간다.<br>들어가는 것은 export, requires 등이 있다.<br>그리고 사실 usec도 있고 provides도 있 커테인스도 있고 멘데이스도 있 많다.</p>
</li>
<li><p>Project Jigsaw라는 프로젝트에 의해 JDK도 모듈이 되었다.<br>가장 자주 쓰이는 것은 java.base, java.xml, java.sql 등이 있다.</p>
</li>
<li><p>모듈은 exports 한다.<br>모듈은 내부적으로 숨길수도 있고 외부에 노출 시킬 수 있지만, 기본적으로 exports는 패키지 단위로 한다.<br>이것은 java 9의 설계한 설계자의 선택이었다.</p>
</li>
<li><p>public 도 exports 해야만 외부에서 참조 가능하다. (Reflection도 불가능하다.)<br>public 은 어디서나 참고가능했었다.<br>패키지 내부는 default 나 protected 나 그런것으로 보호하지 않는 한,<br>완전히 다 열려있는데 모듈이라는 개념이 와서 public 이라도 모든 걸 가져올 수 없게 되었다.<br>한마디로 public 개념 축소되었다.<br>원하는 기능이 있을 때, 오픈소스의 경 소스를 다 볼 수 있었다.<br>근데 그 기능이 Hide된 API 라고 하더라도, 그럴 경우 그 시그너쳐만 따다가,<br>리플렉션으로 동적 호출을 합니다.<br>아예 그런것들이 JVM 단에서 막힌다.<br>그래서 Reflection도 안되게 강력하게 막을 수 있게 되었다.</p>
</li>
</ol>
<ol start="5">
<li><p>동일 패키지는 중복할 수 없음 (Split pakages)<br>순환참조가 없어야하는 제약과 함께,<br>A와 B라는 모듈에서 동일한 패키지명을 가질 수 없는 제약이 생겼다.<br>클래스 이름만 같지 않으면 되었는데, 패키지는 완벽하게 modules의 하위가 되버림.<br>예전에는 전체에서 어떤 패키지를 쓰는지 자유로웠다면,<br>모듈 하위에서 패키지가 들어가므로, 중복되는 이름을 사용할 수 없게 되었다.</p>
</li>
<li><p>JVM 시작시 필요한 모든 클래스를 확인 (Module Resolution)<br>JVM 이 실행할때 모든 클래스를 확인합니다.<br>예전에는 컴파일에서는 확인하지 않고 런타임되었을때 에러났을 부분들을 예방하기 위해서 Module Resolution이라는 모든 클래스를 확인하는 절차가 생겼다.</p>
</li>
<li><p>Custom JDK 만들 수 있음 (JLink)</p>
</li>
</ol>
<p>정상적으로 지원되는 IDE<br>IntelliJ IDEA (2017.9)<br>이클립스 Photom (2018.6) : 아직도 불안정함.<br>ETC. Netbeans 9.0 RC1 (2018.7) 은 아직도 동작못함.(정식버젼아님.)<br>표준 그레들 방식으로 한다면 아직 IntelliJ 형태로 진행하는게 좋다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-08-13-openJDK/">OracleJDK 유료화</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><p>Oracle 은 Java SE 에 대해서 유료화 모델을 발표했습니다.<br>상업적 목적으로 이용시 어떻게 해서든 과금을 시키겠다는 정책입니다.  </p>
<p>주변분들의 평가들이 서로 다른 거 같습니다.  </p>
<p>무료화 버젼도 있으며, openJDK 를 쓰면 된다, JVM != OracleJDK 가 아니다라고 생각하는 사람과,<br>유료화 모델이 나왔기 때문이 아니라, JAVA 자체의 생산성보다 더 좋은 것들이 많이 나오는 시점에서,<br>유료화 모델은 국내 회사에서의 개발 언어에 대한 선택의 폭을 좁히는 결과가 올 것이라고 생각하는 사람도 있습니다.  </p>
<p>예전 같았으면, 이 두가지 생각 중 하나를 선택했을 거 같습니다.<br>토비님의 [Oracle Code Seoul 2017] <a href="https://www.youtube.com/watch?v=BFjrmj4p3_Y" rel="external nofollow noopener noreferrer" target="_blank">Java 9과 Spring 5로 바라보는 Java의 변화와 도전</a><br>을 들어보면, 이 위기도 결국 극복해나갈 거라 확신합니다.  </p>
<p>그럼에도 불구하고 개발자로 살아가기 위해서는, 결과적으로 여러 언어는 많이 알아두면 좋은 거 같습니다.  </p>
<p>모든 언어가 영원할 거라 믿지 않기 때문입니다.</p>
<p>예전 javascript 의 MVN 패턴에 대해서 크게 뜨면서, 7년 전 프로젝트에 Ext.js 를 사용했지만,<br>모바일로 잠깐 반짝거리고 지금은 잘사용안하죠.<br>5년전에는 backbone.js 가 떳고 요즘 대세는 Vue.js 입니다. 작년엔 React.js 를 모르면 바보였던거 같습니다.  </p>
<p>자바로 평생 먹고 살 생각을 했던게 10년전이라면, 요즘은 어떤 언어든 배우면 된다로 바뀐거 같습니다.</p>
<p>자바를 하기 위해 몽고DB를 알아야하고 OracleDB, Mysql, MariaDB, 카산드라, ehcache 이제는 HBase, 카프카 등등..<br>알야할 게 끊임없는거 같습니다.<br>다만, 예전 backbone.js 와 Vue.js 나 React 를 비교해보면 요즘 나온 언어는 예전에 비해 정말 사용하기 쉬운거 같습니다.  </p>
<p>코틀린이 뜬다고 해서 코틀린도 해봤습니다.<br>재미있더군요.  </p>
<p>그냥 지정된 API 나 commands 만 알면 왠만한 것은 해당 라이브러리, 툴, 솔류션들이 알아서 해주니, 점차 개발자들은 단순히 해당 오픈소스를 그냥 쓰면된다라는 마인드로 바뀐게 아닐까요?<br>도메인 주도의 설계의 본질에 조금 더 접근하는 거 같습니다.</p>
<p>소프트웨어의 본질은 기술이 아니며, 기술력의 너무 촛점을 둬서 본질을 흐려서는 안된다고 봅니다.</p>
<p>저는 당연히 개발자는 도메인에 대한 개념을 알아야한다고 생각합니다. 모든 개발 시작시 어떤 요구사항인지, 궁극적으로 원하는 것이 무엇인지 파악하는데 중점을 둡니다.  </p>
<p>자바가 쉽게 사장되진 않겠지만, 계속 무언가 변화하고 있습니다.<br>자바 8 의 람다.<br>자바 9 의 모듈화.<br>자바 10 의 var.</p>
<p>변화하는 것에 따라가지 못하면서, 근시적인 유료화에 불만을 가지지 않고 나아가야겠습니다.</p>
<p>참고로, </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java version &quot;1.8.0_121&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_121-b13)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java version &quot;10.0.2&quot; 2018-07-17</span><br><span class="line">Java(TM) SE Runtime Environment 18.3 (build 10.0.2+13)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.2+13, mixed mode)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">openjdk version &quot;10.0.1&quot; 2018-04-17</span><br><span class="line">OpenJDK Runtime Environment (build 10.0.1+10)</span><br><span class="line">OpenJDK 64-Bit Server VM (build 10.0.1+10, mixed mode)</span><br></pre></td></tr></table></figure>
<p>openJDK 는 openjdk라고 뜨고, OracleJDK 는 Java(TM)이라고 뜹니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><p><a href="http://dev.zepinos.com/phame/post/view/2/oraclejdk_의_유료화_그래서_java_는_망했다/" rel="external nofollow noopener noreferrer" target="_blank">OracleJDK 의 유료화, 그래서 Java 는 망했다?</a></p>
</li>
<li><p><a href="http://dev.zepinos.com/phame/post/view/3/oraclejdk_%EC%9C%A0%EB%A3%8C%ED%99%94_faq/" rel="external nofollow noopener noreferrer" target="_blank">OracleJDK 유료화 FAQ</a></p>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-07-10-Architect/">아키텍트의 종류와 역할</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><p>아키텍쳐를 설계 하는 사람은 아키텍트(Architect)라고 합니다.<br>이 아키텍트는 아키텍쳐 설계 프로세스에서 정의한 각 아키텍쳐에 대해서 아키텍쳐를 설계하는 역할들이 정의됩니다.</p>
<p>계층 구조를 제외하면 아키텍쳐는 5가지로 분리되는데, <a href="http://bcho.tistory.com/667" rel="external nofollow noopener noreferrer" target="_blank">참조</a> Business Architecture, Application Architecture, Solution Architecture, Data Architecture로 분리되며, 아키텍트 역시 이 5개 분야에 걸쳐서 총 5개의 역할로 정의됩니다.</p>
<h2 id="Application-Architect-AA"><a href="#Application-Architect-AA" class="headerlink" title="Application Architect (AA)"></a>Application Architect (AA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">프레임워크, 공통설계자</span><br></pre></td></tr></table></figure>
<p>특정 어플리케이션의 구축에 대한 표준 가이드 및 아키텍쳐 구조를 담당합니다.  </p>
<p>팀 규모에 따라 대규모 팀인 경우 각 개발팀마다 AA를 배치하고,<br>소규모팀인 경우에는 프로젝트 전체팀에 대해서 애플리케이션 아키텍쳐 설계를 담당하게 됩니다.  </p>
<p>간혹 SA와 AA를 혼동할 수 있지만, SA는 각각의 독립적인 Application간의 종속성이 발생하는 것에 대한 설계를 하는 것기고 AA는 독립적인 Application의 세부 설계를 담당하게 됩니다.</p>
<blockquote>
<p>결론 : 업무단과 내부로직 설계(인터페이스 및 업무처리에 필요한 모듈 설계 및 제작)</p>
</blockquote>
<h2 id="Data-Architect-DA"><a href="#Data-Architect-DA" class="headerlink" title="Data Architect (DA)"></a>Data Architect (DA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">데이터 구조 설계</span><br></pre></td></tr></table></figure>
<p>프로젝트 전체팀테 대해서 데이타 아키텍쳐 설계를 담당합니다.<br><a href="http://dataprofessional.tistory.com/127" rel="external nofollow noopener noreferrer" target="_blank">[번역글] 데이터 아키텍트(Data Architect)의 삶</a> 을 참고하자면,<br>데이터 아키텍트는 회사의 잠재적인 데이터 소스(내부 및 외부)를 평가한 후 통합하고 중앙 집중화하며, 보호 및 관리하는 계획을 설계하여, 적시에 적절한 장소에서 중요한 정보에 접근할 수 있도록 합니다.</p>
<ul>
<li>IT 팀 및 경영진과 협업하여 업계 요구사항을 해결하는 데이터 전략을 수립</li>
<li>아키텍처를 구현하는 데 필요한 데이터 목록을 구축</li>
<li>데이터를 획득하기 위한 새로운 기회를 연구</li>
<li>현행 데이터 관리 기술을 식별하고 평가</li>
<li>데이터가 조직에서 어떻게 흐르는지에 대한 가변적인 양단간 비전을 창조</li>
<li>데이터베이스 구조에 대한 데이터 모델을 개발</li>
<li>데이터베이스 아키텍처 및 응용 프로그램(예: 대규모 관계형 데이터베이스)을 설계하고 문서화하며 구성하고 배포</li>
<li>기술적 기능(예: 확장성, 보안, 성능, 데이터 복구, 안정성 등)을 통합</li>
<li>데이터 정확성 및 접근 가능성 보장을 위한 조치를 구현</li>
<li>데이터 관리 시스템의 성능을 지속적으로 모니터링, 조정 및 보고</li>
<li>기존의 웨어하우스 구조에 새로운 시스템을 혼합시킴</li>
<li>데이터베이스 개발 표준을 작성하고 시행</li>
<li>모든 데이터 아키텍처 산출물 및 절차에 대한 공동 저장소를 관리</li>
</ul>
<blockquote>
<p>결론: 전체 데이터에 대한 구조적 설계를 담당.</p>
</blockquote>
<h2 id="Global-Architect-GA"><a href="#Global-Architect-GA" class="headerlink" title="Global Architect (GA)"></a>Global Architect (GA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">아키텍쳐 설계</span><br></pre></td></tr></table></figure>
<p>일반적인 프로젝트 팀 구조에서는 잘 존재하지 않는 역할입니다.<br>EA의 경우 사내에서 진행중인 모든 프로젝트에 대해서 관여하며, 비지니스 전략 측면에서 접근을 하다보니 경영진과의 커뮤니케이션이나 의사 결정 과정에 참여가 많아지기 때문에 실제 아키텍쳐 설계 과정에 디테일하게 참여하기가 어렵고, 때로는 기술의 이해수준이 아주 디테일 하지 않은 경우가 많습니다.<br>그럴때, GA라는 역할을 둬서 SA,TA,DA,AA에 대한 통제 권한 부여하고 기술 중심의 System Architecture의 설계 하도록 합니다.<br>프로젝트 팀의 PM/PL의 관계를 EA/GA 관계로 보면 됩니다.<br>EA는 비지니스를 포함한 외부 대응이나 큰 그림에 신경 쓰고, GA는 기술 위주의 아키텍쳐 설계에 집중합니다.</p>
<blockquote>
<p>결론 : SA,TA,DA,AA에 대한 통제</p>
</blockquote>
<h2 id="Technical-Architect-TA"><a href="#Technical-Architect-TA" class="headerlink" title="Technical Architect (TA)"></a>Technical Architect (TA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Infra Architect</span><br></pre></td></tr></table></figure>
<p>업무시스템을 운영할 환경을 구성하는 하드웨어, 소프트웨어, 네트워크를 정의합니다.<br>EA 또는 SA가 3-Tier 모델을 정의하면,<br>각각의 Tier 사이에 물리적인 네트워크의 구조를 TA가 담당하게 되는 거 같습니다.</p>
<p>프로젝트중 발생할만한 기술적 이슈(Business, Database Data 제외)에 대한 Support하는게 주된 업무로 보입니다.</p>
<blockquote>
<p>결론 : 프로젝트 전체팀에 대한 하드웨어 및 네트워크 아키텍쳐를 설계</p>
</blockquote>
<h2 id="Solution-Architect-SA"><a href="#Solution-Architect-SA" class="headerlink" title="Solution Architect (SA)"></a>Solution Architect (SA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">특정 솔루션 아키텍쳐 설계</span><br></pre></td></tr></table></figure>
<p>SA는 특정 솔루션에 대한 Architecture를 설계계합니다.<br>SA가 하는 업무가 EA와 겹치는 부분이 있을 수도 있지만, EA가 전체 구조에 대한 설계라면 SA는 특정 분야에 대한 세부설계를 담당한다고 할 수 있으며, 그렇기 때문에 EA보다는 특정 영역에 대해서 전문적인 지식이 필요합니다.</p>
<blockquote>
<p>결론 : SA의 경우 프로젝트 내에 개발팀이 있을때, 해당 솔루션을 사용하는 모든 팀에 대한 아키텍쳐 설계를 담당</p>
</blockquote>
<p>그리고 그 외에는,</p>
<h2 id="Enterprise-Architect-EA"><a href="#Enterprise-Architect-EA" class="headerlink" title="Enterprise Architect (EA)"></a>Enterprise Architect (EA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Business Architecture를 포함한 전체 아키텍쳐 설계에 대한 책임을 집니다.<br>비지니스 이해를 바탕으로 전체 아키텍쳐에 대한 큰 설계를 담당하며, 비지니스에 대한 이해를 바탕으로 장기적인 IT 전략 수립을 담당합니다.</p>
<p>EA의 특징중의 하나는, EA의 경우 단일 프로젝트 뿐만 아니라, 해당 회사의 앞으로의 비지니스 전략에 맞춰서 향후 모든 프로젝트에 대한 아키텍쳐에 대한 책임을 지며,<br>SA,AA,TA,DA에 대한 통제 권한을 가지고 아키텍트 팀을 운용합니다.<br>가끔 CIO(최고 정보 책임자)와 혼동하는 경우가 있는데, CIO는 회사 내부의 IT 전략을 수립하고, IT 포트폴리오를 정의하고 수행한다는 관점에서 EA와 유사한 면이 있으나, 기술적인 면에서는 CIO와 EA의 부분이 겹칠 수 있으나 경영적인 측면에서는 다르다고 합니다.<br>CIO는 결정적으로 예산 집행권과 인사권을 가지고 있으며 설계 보다는 경영과 관리에 목적을 두는 반면, EA는 아키텍쳐 설계를 그 목적으로 합니다.</p>
<blockquote>
<p>결론 : 전체 아키텍처 설계에 대한 책임을 집니다.</p>
</blockquote>
<h2 id="Business-Architect-BA"><a href="#Business-Architect-BA" class="headerlink" title="Business Architect (BA)"></a>Business Architect (BA)</h2><p>일반적으로 역할을 구분하지는 않지만, EA의 경우 기술적인 측면과 비즈니스적인 측면에 대한 이해도가 모두 높아야 합니다.<br>하지만 현실적으로 두 가지에 대한 이해도가 높은 사람이 극히 드물기 때문에 EA는 좀더 기술적 측면에 집중하고 BA로 하여금 비즈니스적 측면을 고려할 수 있도록 역할을 분담하고 있습니다.</p>
<blockquote>
<p>비즈니스 측면에 대한 설계를 담당</p>
</blockquote>
<h2 id="quality-assurance-QA"><a href="#quality-assurance-QA" class="headerlink" title="quality assurance (QA)"></a>quality assurance (QA)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">품질보증</span><br></pre></td></tr></table></figure>
<p>주로 프로그램이나 문서의 검수를 합니다. 대부분 로직이나 내용보다는 룰(규정)을 지켰는지 봅니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://bcho.tistory.com/668" rel="external nofollow noopener noreferrer" target="_blank">아키텍트의 종류와 역할</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-07-24-newspaper/">newspaper/0.2.6</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">175.125.19.92 - - [23/Jul/2018:00:45:24 +0900] &quot;GET /servlet/xxxx HTTP/1.1&quot; 200 433 &quot;-&quot; &quot;newspaper/0.2.6&quot; 57ms</span><br></pre></td></tr></table></figure>
<p>특정아이피에서 이상한 USER-AGENT 값이 지속적으로 유입되고 있습니다.<br>보통의 USER-AGENT 의 경우에는,  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;Mozilla/5.0 (Linux; Android 7.1.1; SM-N950N Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/62.0.3202.84 Mobile Safari/537.36 [FB_IAB/FB4A;FBAV/159.0.0.38.95;]&quot;</span><br></pre></td></tr></table></figure>
<p>이런 형태로 해당 유입패턴을 가지고 웹, 모바일을 구분하거나</p>
<p>모바일에서도,<br>삼성인지, 아이폰인지 분석하는 용도로 잘 사용합니다.</p>
<p>근데 해당 ua(user-agent)값에 떡하니,<br>“newspaper/0.2.6”란 값이 들어오며,<br>해당 패턴들이 부정유입,<br>들어와서는 안되는 예전 데이터들로 파악되어,<br>추측컨데 크롤링이나 bot 으로 판단이 되었습니다.</p>
<p>실제, 해당 녀석이 무엇인지 검색을 해보기 위해,<br>newspaper로 검색해보니 파이썬 크롤링관련 내용이 검색이 되었으며,</p>
<p>해당 github의 <a href="https://github.com/codelucas/newspaper/blob/master/newspaper/configuration.py" rel="external nofollow noopener noreferrer" target="_blank">66라인</a>을 보니</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.browser_user_agent = &apos;newspaper/%s&apos; % __version__</span><br></pre></td></tr></table></figure>
<p>위와 같이 별도의 설정이 없으면 “newspaper/0.2.6” 라는 ua값이 찍히도록 되어있는 것을 확인했습니다.</p>
<p>해당 IP는 바로 차단을 해야할 것으로 보이며, ua에 대한 체크로직을 추가했습니다.</p>
<hr>
<h1 id="참조"><a href="#참조" class="headerlink" title="참조"></a>참조</h1><hr>
<ul>
<li><a href="http://newspaper.readthedocs.io/en/latest/" rel="external nofollow noopener noreferrer" target="_blank">Newspaper3k</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-07-09-tar_gzip/">tar.gz 파일 압축 푸는 방법</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><h2 id="TAR-와-GZ-으로-압축되어있는-파일을-압축-푸는-법"><a href="#TAR-와-GZ-으로-압축되어있는-파일을-압축-푸는-법" class="headerlink" title="TAR 와 GZ 으로 압축되어있는 파일을 압축 푸는 법"></a>TAR 와 GZ 으로 압축되어있는 파일을 압축 푸는 법</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 1 root root   59886 2018-06-30 00:40 xxx.errorlog.log.2018-06-28.bak.tar.gz</span><br></pre></td></tr></table></figure>
<p>해당 파일을 분석할 일이 생겨 분석을 하려고 압축을 풀려고 했으나,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[WAS-05:root]/home/logs/log4j/backup&gt;#find . -name &quot;*.tar.gz&quot; -exec tar zxvf &#123;&#125; \;</span><br><span class="line">tar: 이것은 tar 아카이브처럼 보이지 않습니다</span><br><span class="line">tar: 다음 헤더로 건너 뜀</span><br><span class="line">tar: Exiting with failure status due to previous errors</span><br></pre></td></tr></table></figure>
<p>압축이 풀리지 않았습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">[WAS-05:root]/home/logs/log4j/backup&gt;#tar -zxf ./xxx.errorlog.log.2018-06-27.bak.tar ./temp.log</span><br><span class="line">tar: ./temp.log: 아카이브에 없음</span><br><span class="line">tar: Exiting with failure status due to previous errors</span><br><span class="line">[WAS-05:root]/home/logs/log4j/backup&gt;#tar -zxf ./xxx.errorlog.log.2018-06-27.bak.tar</span><br><span class="line">[WAS-05:root]/home/logs/log4j/backup&gt;#ll</span><br><span class="line">합계 38528</span><br></pre></td></tr></table></figure>
<p>알고 있는 방법을 다 동원했는데, 여전히 압축이 풀리지 않았습니다.</p>
<p>그러다가 문득 떠오른 생각이 혹이 이 파일 tar로 압축한 걸 다시 gzip 으로 압축한건가?</p>
<p>……</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[WAS-05:root]/home/logs/log4j/backup&gt;#gzip -d ./xxx.errorlog.log.2018-06-28.bak.tar.gz</span><br></pre></td></tr></table></figure>
<p>풀립니다…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[WAS-05:root]/home/logs/log4j/backup&gt;#tar -zxf ./xxx.errorlog.log.2018-06-28.bak.tar</span><br></pre></td></tr></table></figure>
<p>역시 잘 풀립니다.</p>
<p>어떻게 보면 쉬운 문제을 수도 있는데, 계속 tar 와 아카이브 문제라고만 생각하면 쉽게 풀리지 않을거 같아 올립니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-07-02-JVM_HEAP_MEMORY/">JVM heap memory 설정 변경 값</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><h2 id="jmap-heap-9485"><a href="#jmap-heap-9485" class="headerlink" title="jmap -heap 9485"></a>jmap -heap 9485</h2><p>실제 서버에서 jmap 을 사용하여 heap 메모리 영역을 분석합니다.  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef|grep tomcat</span><br></pre></td></tr></table></figure>
<p>로 현재 프로세스를 확인하여 9485 process ID인 것을 확인했습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Attaching to process ID 9485, please wait...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.112-b15</span><br><span class="line"></span><br><span class="line">using parallel threads in the new generation.</span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Concurrent Mark-Sweep GC</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 40</span><br><span class="line">   MaxHeapFreeRatio         = 70</span><br><span class="line">   MaxHeapSize              = 6438256640 (6140.0MB)</span><br><span class="line">   NewSize                  = 1073020928 (1023.3125MB)</span><br><span class="line">   MaxNewSize               = 1073020928 (1023.3125MB)</span><br><span class="line">   OldSize                  = 5365235712 (5116.6875MB)</span><br><span class="line">   NewRatio                 = 5</span><br><span class="line">   SurvivorRatio            = 1024</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">New Generation (Eden + 1 Survivor Space):</span><br><span class="line">   capacity = 1072037888 (1022.375MB)</span><br><span class="line">   used     = 1071054848 (1021.4375MB)</span><br><span class="line">   free     = 983040 (0.9375MB)</span><br><span class="line">   99.90830174838% used</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 1071054848 (1021.4375MB)</span><br><span class="line">   used     = 1071054848 (1021.4375MB)</span><br><span class="line">   free     = 0 (0.0MB)</span><br><span class="line">   100.0% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 983040 (0.9375MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 983040 (0.9375MB)</span><br><span class="line">   0.0% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 983040 (0.9375MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 983040 (0.9375MB)</span><br><span class="line">   0.0% used</span><br><span class="line">concurrent mark-sweep generation:</span><br><span class="line">   capacity = 5365235712 (5116.6875MB)</span><br><span class="line">   used     = 3631971624 (3463.7180557250977MB)</span><br><span class="line">   free     = 1733264088 (1652.9694442749023MB)</span><br><span class="line">   67.69453979210373% used</span><br><span class="line">46179 interned Strings occupying 5111864 bytes.</span><br></pre></td></tr></table></figure>
<p>옵션은 예전 <a href="https://youngclown.github.io/2018/05/JVM-OPTION">JVM_OPT 제거 관련</a>에서 제외하지 않은,   다른 서버를 기반으로 테스트 했습니다.</p>
<p>제가 관리하는 서버와는 다른 서버로,<br>실제 옵션은 다음과 같습니다. [JVM_OPT 제거 관련]글과 동일한 옵션입니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JAVA_OPTS=&quot;-verbosegc -server -Xms6144m -Xmx6144m -XX:NewRatio=5  -XX:+UseParNewGC -XX:+CMSParallelRemarkEnabled -XX:+UseConcMarkSweepGC -XX:MaxTenuringThreshold=0 -XX:CMSInitiatingOccupancyFraction=75 -Djava.security.egd=file:/dev/urandom -Dscouter.config=/usr/local/tomcat7/conf/scouter.conf -Duser.timezone=GMT+09:00 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/usr/local/tomcat7/logs/memory_err.log&quot;</span><br></pre></td></tr></table></figure>
<p>NewRatio=5 이므로, 실제 메시지가 5로 분배되며 그로 인해 1/(5+1)로 나누기 때문에,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">OldSize = 5365235712 (5116.6875MB)</span><br><span class="line">NewSize = 1073020928 (1023.3125MB)</span><br></pre></td></tr></table></figure></p>
<p>전체 힙 사이즈의 크기 지정만큼 New 영역의 크기 지정 또한 중요하며,<br>XX:NewRatio 옵션을 이용해 전체 힙 크기 중 New 크기의 비율을 지정하거나 XX:NewSize 옵션을 사용해 원하는 크기만큼의 New 영역 크기를 지정하는 것이 좋다고 하는데,<br>New 비율이 그다지 높지 않고, 아직까지 해당 서버는 static 서버의 비율이 조금 높습니다.<br>(예전 서블릿 api 구조로 만들어진 서버.)</p>
<p>현재 우리 서버는 자바 1.8을 사용하고 있습니다.</p>
<p>에 Java8 부터 Permanent 영역에 대한 설정</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-XX:PermSize=350m / 기동시 Perm사이즈</span><br><span class="line">-XX:MaxPermSize=400m /최대사이즈</span><br></pre></td></tr></table></figure>
<p>두 가지가 사라지고</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-XX:MaxMetaspaceSize=</span><br><span class="line">-XX:MetaspaceSize=</span><br></pre></td></tr></table></figure>
<p>가 등장했다고 하는데요.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MetaspaceSize = 21807104 (20.796875MB)</span><br></pre></td></tr></table></figure>
<p>Perm 영역에 대한 관리 문제(Out of Memory와 GC 성능)로 Perm+Native 영역을 통합해서,<br>Metaspace 영역으로 바뀌었다고 하는데, 결과적으로<br>PermGen 영역이 삭제되어 heap 영역에서 사용할 수 있는 메모리가 늘어났으며,<br>PermGen 영역을 삭제하기 위해 존재했던 여러 복잡한 코드들이 삭제 되고 PermGen영역을 스캔 하기 위해 소모되었던 시간이 감소되어 GC 성능이 향상 되었다고 합니다.</p>
<p>물론, 대부분의 솔류션이 Spring 프레임웍으로 변경되면서 무분별한 static 사용이 줄어들었기 때문에, OOM 이 발생하는 거는 요근래 보기 힘들어졌지만, 해당 솔류션은 아직도 서블릿 API 이므로…</p>
<p>여튼, JAVA_OPTS을 적용하여, CMG 라든가 ratio 라든가 이런 부분이 적용이 되었습니다.<br>그리고 SurvivorRatio 나 MetaspaceSize 는 자동으로 적용이 되고요.</p>
<p>확인을 위해 제쪽에 적용된 셋팅(모든 설정은 지우고 default 처리)로 변경해봤습니다.</p>
<h2 id="jmap-heap-3880"><a href="#jmap-heap-3880" class="headerlink" title="jmap -heap 3880"></a>jmap -heap 3880</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">jmap -heap 3880</span><br><span class="line">Attaching to process ID 3880, please wait...</span><br><span class="line">Debugger attached successfully.</span><br><span class="line">Server compiler detected.</span><br><span class="line">JVM version is 25.112-b15</span><br><span class="line"></span><br><span class="line">using thread-local object allocation.</span><br><span class="line">Parallel GC with 13 thread(s)</span><br><span class="line"></span><br><span class="line">Heap Configuration:</span><br><span class="line">   MinHeapFreeRatio         = 0</span><br><span class="line">   MaxHeapFreeRatio         = 100</span><br><span class="line">   MaxHeapSize              = 6438256640 (6140.0MB)</span><br><span class="line">   NewSize                  = 2145910784 (2046.5MB)</span><br><span class="line">   MaxNewSize               = 2145910784 (2046.5MB)</span><br><span class="line">   OldSize                  = 4292345856 (4093.5MB)</span><br><span class="line">   NewRatio                 = 2</span><br><span class="line">   SurvivorRatio            = 8</span><br><span class="line">   MetaspaceSize            = 21807104 (20.796875MB)</span><br><span class="line">   CompressedClassSpaceSize = 1073741824 (1024.0MB)</span><br><span class="line">   MaxMetaspaceSize         = 17592186044415 MB</span><br><span class="line">   G1HeapRegionSize         = 0 (0.0MB)</span><br><span class="line"></span><br><span class="line">Heap Usage:</span><br><span class="line">PS Young Generation</span><br><span class="line">Eden Space:</span><br><span class="line">   capacity = 2112356352 (2014.5MB)</span><br><span class="line">   used     = 2112356352 (2014.5MB)</span><br><span class="line">   free     = 0 (0.0MB)</span><br><span class="line">   100.0% used</span><br><span class="line">From Space:</span><br><span class="line">   capacity = 16777216 (16.0MB)</span><br><span class="line">   used     = 9126896 (8.704086303710938MB)</span><br><span class="line">   free     = 7650320 (7.2959136962890625MB)</span><br><span class="line">   54.40053939819336% used</span><br><span class="line">To Space:</span><br><span class="line">   capacity = 16777216 (16.0MB)</span><br><span class="line">   used     = 0 (0.0MB)</span><br><span class="line">   free     = 16777216 (16.0MB)</span><br><span class="line">   0.0% used</span><br><span class="line">PS Old Generation</span><br><span class="line">   capacity = 4292345856 (4093.5MB)</span><br><span class="line">   used     = 3228912792 (3079.331199645996MB)</span><br><span class="line">   free     = 1063433064 (1014.1688003540039MB)</span><br><span class="line">   75.22489800039077% used</span><br><span class="line">43424 interned Strings occupying 4727664 bytes.</span><br></pre></td></tr></table></figure>
<p>CMG 설정에 의해 강제로 Old Generation 이 75% 넘으면 강제 GC가 발생하도록 되어있었는데요.<br>75%가 넘어도 강제 GC를 발생시키지 않습니다.<br>Ratio 도 5 의 비율에서 2의 비율로 변경되었고, 그로인해, MaxNewSize 와 NewSize 비율도 자동으로 갱신되었습니다.  </p>
<p>제가 관리하는 솔류션은, static을 거의 줄이고, new 객체로 전환시켜놓은것이 많다보니,<br>ratio option 을 안거는게 더 효율이 있었는데,<br>해당 솔류션은 사용한것과 사용하지 않은 것의 차이점이 크지 않았습니다.<br>제쪽은 작업 후 Full GC 와 GMC 가 사라졌는데, GMC가 사라지긴했지만, 그건 옵션을 제거해서 사라진 것이고 Full GC는 여전히 발생했습니다.</p>
<p>결국 큰 실익이 없다하여 예전 셋팅값으로 돌아갔습니다. 솔류션의 개발자들의 무분별한 static 변수들을 제거한 후에야,<br>재도전을 해볼 수 있을 거 같습니다.  </p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-07-09-MYSQL_1130/">MySQL error 1130: Host 'XXX' is not allowed to connect to this MySQL server</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><h2 id="MySQL-Server-8-0-11"><a href="#MySQL-Server-8-0-11" class="headerlink" title="MySQL Server 8.0.11"></a>MySQL Server 8.0.11</h2><p>Starting Server 에서 에러 발생</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Retry 8: Attempting to connect to Mysql@localhost:3306 with user root with no password...</span><br><span class="line">MySQL error 1130: Host &apos;ymkim&apos; is not allowed to connect to this MySQL server</span><br><span class="line">Waiting 3 seconds before the next connection attempt...</span><br><span class="line">Retry 9: Attempting to connect to Mysql@localhost:3306 with user root with no password...</span><br><span class="line">MySQL error 1130: Host &apos;ymkim&apos; is not allowed to connect to this MySQL server</span><br><span class="line">Waiting 3 seconds before the next connection attempt...</span><br><span class="line">Retry 10: Attempting to connect to Mysql@localhost:3306 with user root with no password...</span><br><span class="line">MySQL error 1130: Host &apos;ymkim&apos; is not allowed to connect to this MySQL server</span><br><span class="line">Failed to connect to MySQL Server 8.0.11 after 10 attempts.</span><br><span class="line">Ended configuration step: Starting Server</span><br></pre></td></tr></table></figure>
<p>Host 를 ymkim 으로 설정한 적이 없는데, not allowd to connect to this MySQL server 에러가 발생했습니다.</p>
<p>실제 설치한 경로에는 정상적으로 mysql 이 설치되었으며,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -u root -p -h localhost -P 3306</span><br><span class="line">Enter password: ****</span><br><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)</span><br></pre></td></tr></table></figure>
<p>로그인하려면 실패를 합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;netstat -na</span><br><span class="line"></span><br><span class="line">활성 연결</span><br><span class="line"></span><br><span class="line">  프로토콜  로컬 주소           외부 주소              상태</span><br><span class="line">  TCP    0.0.0.0:135            0.0.0.0:0              LISTENING</span><br><span class="line">  TCP    0.0.0.0:445            0.0.0.0:0              LISTENING</span><br><span class="line">  TCP    0.0.0.0:3306           0.0.0.0:0              LISTENING</span><br><span class="line">  TCP    0.0.0.0:12025          0.0.0.0:0              LISTENING</span><br><span class="line">~~~~~~~~~~~~~ 중략 ~~~~~~~~~~~~~~~~~~~~~~~~~</span><br></pre></td></tr></table></figure>
<p>netstat 로 확인해보면 설치후 3306이 잘 떠있는것도 확인할 수 있습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot -p -h 0.0.0.0 -ptest  3306</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 2003 (HY000): Can&apos;t connect to MySQL server on &apos;0.0.0.0&apos; (10049)</span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot -p -h ymkim  -ptest  3306</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 1130 (HY000): Host &apos;ymkim&apos; is not allowed to connect to this MySQL server</span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot -p -h localhost  -ptest  3306</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)</span><br><span class="line"></span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot -p -h 192.168.100.11  -ptest  3306</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 1130 (HY000): Host &apos;ymkim&apos; is not allowed to connect to this MySQL server</span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot -p -h 127.0.0.1  -ptest  3306</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)</span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot -p -h localhost  -ptest  3306</span><br><span class="line">mysql: [Warning] Using a password on the command line interface can be insecure.</span><br><span class="line">ERROR 1045 (28000): Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)</span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql</span><br><span class="line">ERROR 1045 (28000): Access denied for user &apos;ODBC&apos;@&apos;localhost&apos; (using password: NO)</span><br><span class="line">C:\Program Files\MySQL\MySQL Server 8.0\bin&gt;mysql -uroot</span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 31</span><br><span class="line">Server version: 8.0.11 MySQL Community Server - GPL</span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its affiliates. Other names may be trademarks of their respective owners.</span><br><span class="line">Type &apos;help;&apos; or &apos;\h&apos; for help. Type &apos;\c&apos; to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure>
<p>… 그냥 mysql -uroot 로 접속하면 설치된 서버라 바로 접속이 되는 데 뻘짓을 했던 거 같습니다.</p>
<p>그리고 가장 큰 문제는!!!!</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\Windows\System32\drivers\etc\hosts</span><br></pre></td></tr></table></figure>
<p>해당 파일의 내용에,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># localhost name resolution is handled within DNS itself.</span><br><span class="line">192.168.100.11	localhost</span><br></pre></td></tr></table></figure>
<p>localhost 를 Internet Protocol Version 4(TCP/IPv4) 속성에 설정한 IP주소를 사용하고 있었던 부분에서 Mysql 이 제대로 인식을 못했던 부분으로,<br>해당 부분을</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1	localhost</span><br></pre></td></tr></table></figure>
<p>해당 host 값을 localhost 를 127.0.0.1 로 변경 하면 정상적으로 서버 설치가 되는 걸 확인할 수 있었습니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-06-28-CLUSTER_NODES/">Redis CLUSTER nodes.conf 파일 확인하며 장애 대응.</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><h2 id="CLUSTER-NODES"><a href="#CLUSTER-NODES" class="headerlink" title="CLUSTER NODES"></a><a href="https://redis.io/commands" rel="external nofollow noopener noreferrer" target="_blank">CLUSTER NODES</a></h2><p>lod 현재 상황은 cluster nodes 라는 명령어를 통해 보일 수 있습니다.<br>CLUSTER NODES는 클러스터에 참여하고 있는 노드의 정보를 보는 명령으로,<br>접속한 서버가 가지고 있는 클러스터에 속한 다른 노들의 정보입니다.</p>
<p><img src="/images/20180709clusternode.png" alt="clusternodeImg">{: width=”100%”}</p>
<ol>
<li>node-id : 노드를 유일하게 구분할 수 있는 ID며, 40개 문자로 구성되면 변경되지 않습니다.</li>
<li>ip:port : 노드의 주소로 IP와 Port 입니다.</li>
<li>flags : master, slave, fail?, fail, handshake, noaddr, noflags가 있고, 명령을 실행한 노드에 myself 라고 표시된다고 합니다.</li>
<li>master : 슬레이브일 때 마스터 노드 ID가 표시되며, 마스터일 때는 “-“이 표시됩니다.</li>
<li>ping-sent : myself가 다른 노드에 ping을 보낸 시각(Unix timestamp milliseconds)입니다.<br>주의할 것은 7000번이 7001번에게 Ping을 보냈으면 ping-sent가 7000번에 기록되는 것이 아니고 7001번에 기록된다고 합니다.<br>Ping-sent 시각은 Pong이 오면 지워지므로 이 시각은 아직 Pong 오지 않았을 아주 짧은 시간만 볼 수 있다고 합니다.<br>따라서 대부분의 경우 0으로 나온며, Myself는 이 값이 항상 0입니다.</li>
<li>pong-recv : Pong을 받은 마지막 시각(Unix timestamp milliseconds)을 의미합니다.<br>7000번이 7001번으로부터 Pong을 받으면 7000번이 가지고 있는 7001번 데이터에 기록되며, Myself는 이 값이 항상 0입니다.</li>
<li>config-epoch : The configuration epoch (or version) of the current node (or of the current master if the node is a slave).   Each time there is a failover, a new, unique, monotonically increasing configuration epoch is created.   If multiple nodes claim to serve the same hash slots, the one with higher configuration epoch wins.</li>
<li>link-state : 클러스터 버스로 연결된 상태를 나타냅니다.<br>connected 또는 disconnected 라고 합니다.</li>
<li>slot : 마지막 항목은 할당된 슬롯 정보입니다.<br>슬롯이 할당된 마스터 노드에 범위로 표시됩니다.<br>슬레이브나 슬롯이 할당되지 않은 마스터는 표시되지 않습니다.</li>
</ol>
<h2 id="Redis-CLUSTER-nodes-conf-파일"><a href="#Redis-CLUSTER-nodes-conf-파일" class="headerlink" title="Redis CLUSTER nodes.conf 파일"></a>Redis CLUSTER nodes.conf 파일</h2><p>서버에서 [CLUSTERDOWN The cluster is down] Error 가 발생하기 시작했습니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[ERROR][2018/06/28 16:04:31] c.m.d.r.RedisExecutor$RedisCommonPattern [86]</span><br><span class="line">###### ERROR LOG ######</span><br><span class="line">CLASS_NAME : Protocol.java / LINE : 115 / MESSAGE : redis.clients.jedis.exceptions.JedisClusterException: CLUSTERDOWN The cluster is down</span><br><span class="line">CLASS_NAME : Protocol.java / LINE : 151 / MESSAGE : redis.clients.jedis.exceptions.JedisClusterException: CLUSTERDOWN The cluster is down</span><br><span class="line">###### END ERROR LOG ######</span><br></pre></td></tr></table></figure>
<p>SCOUTER 에서 사용하고 있는 ip 와는 다른 클러스터 ip 가 보이며, time out이 발생하는 현상이었습니다.<br>어플리케이션에서는 해당 IP를 호출하는 부분이 적혀 없었기에,</p>
<p>위의 서술한 cluster nodes 를 검색해보니, SCOUTER 에 찍혔던 ip 와 같은 클러스터 ip가 찍히는 것을 확인할 수 있었습니다.</p>
<p>원인은 별도의 검증계 서버를 구축하기 위해 레디스를 구축하던 과정에서, 뭔가 grouping 이 가능한 동일 id를 설정하면서, 해당 ip 까지 동일한 클러스터로 판단하여, 클러스터링된것으로 보이며,</p>
<p>급한 이슈 해결을 해야하므로, 레디스를 다시 밀어버리고, 재설치하는 방법으로 해결되었습니다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="../../2018/08/2018-06-29-IntelliJ_Provided/">Exception in thread HttpServlet NoClassDefFoundError</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time><div class="content"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/http/HttpServlet&quot;</span><br></pre></td></tr></table></figure>
<p>psvm 으로 main을 만들어 사용할 때,</p>
<p>Intellij 에서만 HttpServlet 을 못찾는 에러가 발생합니다.<br>이클립스라든가 IntelliJ 내부의 JUnit 을 사용했을 때는 정상적으로 동작합니다.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;3.0.1&lt;/version&gt;</span><br><span class="line">    &lt;scope&gt;provided&lt;/scope&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>보통, javax.servlet-api 는 서버에서는 tomcat 에 존재하므로,<br>dependency의 scope를 provided로 적용해두고 있습니다.</p>
<p>그런데, main에서 호출할시에는 tomcat 과는 별개의 동작이므로, 외부에서 이 라이브러리가 제공되는 선언시, NoClassDefFoundError 가 발생하는 것입니다.</p>
<p>결국 IntelliJ 설정 중,<br><img src="/images/20180629Provided.PNG" alt="provided">{: width=”100%”}<br>로 인해 발생한 문제로 확인이 되었습니다.</p>
<p>Include dependencies with “Provided” scope 를 체크하면, 정상적으로 동작합니다.</p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="../3/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../3/">3</a><span class="page-number current">4</span><a class="page-number" href="../5/">5</a><span class="space">&hellip;</span><a class="page-number" href="../11/">11</a><a class="extend next" rel="next" href="../5/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2019 By bymin</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" rel="external nofollow noopener noreferrer" target="_blank"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" rel="external nofollow noopener noreferrer" target="_blank"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="../../js/utils.js?version=1.6.1"></script><script src="../../js/fancybox.js?version=1.6.1"></script><script src="../../js/sidebar.js?version=1.6.1"></script><script src="../../js/copy.js?version=1.6.1"></script><script src="../../js/fireworks.js?version=1.6.1"></script><script src="../../js/transition.js?version=1.6.1"></script><script src="../../js/scroll.js?version=1.6.1"></script><script src="../../js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>