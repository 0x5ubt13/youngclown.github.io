<!DOCTYPE html><html lang="lang"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="JAVA9 Module"><meta name="keywords" content><meta name="author" content="bymin"><meta name="copyright" content="bymin"><title>JAVA9 Module | 젊은광대 기술블로그</title><link rel="shortcut icon" href="../../../melody-favicon.ico"><link rel="stylesheet" href="../../../css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="../../../img/avatar.png"></div><div class="author-info__name text-center">bymin</div><div class="author-info__description text-center">잘정리하자</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="../../../archives"><span class="pull-left">Articles</span><span class="pull-right">109</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="../../../index.html">젊은광대 기술블로그</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">JAVA9 Module</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-08-28</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>시작 ====</p>
<p>자바 언어에서는 이미 전체 프로젝트를 모듈화하는 기본적인 기재들은 갖추고 있다.<br>jar, war 등을 써서 이미 필요한 부분을 떨어뜨릴 수 있고,</p>
<p>그렇기 때문에 그런것들을 다운받아서, 라이브러리로 받아서 한글처리나,<br>구아바, RXJava 같은 비동기 라이브러리가 되었든, 새로 개발하지 않고 사용 가능하다.</p>
<p>사실 내가 짜고 있는 프로그램에서도, interface 를 잘 쓰면 모듈화가 가능하다.<br>자바에서는 패키지를 제공하기 때문에 3 dept, 4 dept 처럼 단계를 가지고,<br>자바 언어에서 제공해주는 public, private 등을 이용하여 기본적인 구조화, 모듈화가 가능하다.</p>
<p>그럼에도 불구하고 왜 이런 모듈이란 새로운 게 나왔는지, 기존것과 무엇이 다른지를 이해해야한다.</p>
<p>자바 9의 언어의 모듈화는 어떻게 되었을까?</p>
<ol>
<li>javadoc 이 달라졌다.<br><a href="https://docs.oracle.com/javase/10/docs/api/index.html?overview-summary.html" rel="external nofollow noopener noreferrer" target="_blank">https://docs.oracle.com/javase/10/docs/api/index.html?overview-summary.html</a></li>
</ol>
<p>예전 자바doc을 들어가면 좌측은 패키지와 우측은 해당 패키지의 doc이었는데, 좌측 상단의 모듈들이 생기게 되었다.<br>모듈에서 패키지가 나온다.</p>
<p>base 모듈을 들어가보면,<br>Exports Package 라는 항목이 나온다.</p>
<table>
<thead>
<tr>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>java.io</td>
<td>Provides for system input and output through data streams, serialization and the file system.</td>
</tr>
<tr>
<td>java.lang</td>
<td>Provides classes that are fundamental to the design of the Java programming language.</td>
</tr>
</tbody>
</table>
<p>provides 와 usec 는 서비스입니다.</p>
<p>자바 내부가 모듈화가 되었다는 첫번째 의미로 보았을, 여지껏 패키지로 모듈화가 되었다고 한다면,<br>JAVA 7 기준으로 서로가 서로를 참조하는 매우 어려운 구성에서,<br>JAVA 9 에서는 모듈화가 되면서 조금더 간략하게 되었다.</p>
<p>트리구조는 아래쪽을 띄어내서 모듈화하기 쉽지만,<br>A &gt; B &gt; C &gt; D &gt; A 구조와 같은 순환처리를 하게 되면 트리구조와는 다르게 띄어내기가 힘들다.<br>그래서 JDK 라는 전체 클래스가 5천개가 넘는데, 해당 클래스들의 순환참조를 다 끊어냈다가,<br>2년여간에 걸쳐 Project jigsaw (모듈화된 JDK)라는 이름하에 다 끊어냈다.<br>java.se 를 보더라도 순환처리가 없는 것을 알 수 있다.</p>
<p>모듈로 패키징하여 서로간의 순환참조를 하지 않도록 구성했다.<br>이것이 가능해지면서 기존에는 불가능한 구조가 가능하게 되었다.</p>
<p>원래는 2017년 9월에 나왔는데 2016년 초에 나오는게 목표였는데, 2016년부터 자바의 라이브러리를 만드는 최신 트랜드를 고민하는 개발자들은,<br>내가 가진 라이브러리로 고정부와 변동부, 확장과 기본, 아니면 계열분리와 같은 식으로,<br>라이브러리를 재작성하는 사례들이 있었다.</p>
<p>RxJava 도 그런 형태로 그렇고,<br>JUnit 또한 테스트 프로그램을 만들 때, JUnit5 가 모듈화되어서 나왔다.<br>테스팅을 하는 일반적인 JUnit5, Junit 쥬피터, Junit3나 4에 대한 레거시를 확장가능한 Junit 빈티지 와 같은 3개의 라이브러리를 모듈화하여 나왔었다.<br>(JUnit 5 = JUnit platform + JUnit Jupiter + Junit vinatage)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- foundaton for launching testung frameworks on the JVM</span><br><span class="line">- the combination of the new programming model and extension model for writing test and extenstions Junit 5</span><br><span class="line">- TestEngine for running JUnit 3 and JUnit 4 based tests on the platform</span><br></pre></td></tr></table></figure>
<p>솔직히 이렇게 하려면 어렵다. 고정부와 변동부를 쪼갠다는 건 매우 어려운 일이다.<br>관리자들이 이게 왜 필요한지를 모른다. 실제로 고정부와 변동부를 잘 쪼갰는지에 대해서는<br>잘 이해하기 어렵다. 그랬을 경우 성능은 떨어지지 않았는지에 대한 고민 또한 필요하다.</p>
<ol>
<li><p>자바 언어에서 모듈이란 키워드가 추가되었다.<br>그리고 모듈이란 키워드는 module-info.java에 들어간다.<br>들어가는 것은 export, requires 등이 있다.<br>그리고 사실 usec도 있고 provides도 있 커테인스도 있고 멘데이스도 있 많다.</p>
</li>
<li><p>Project Jigsaw라는 프로젝트에 의해 JDK도 모듈이 되었다.<br>가장 자주 쓰이는 것은 java.base, java.xml, java.sql 등이 있다.</p>
</li>
<li><p>모듈은 exports 한다.<br>모듈은 내부적으로 숨길수도 있고 외부에 노출 시킬 수 있지만, 기본적으로 exports는 패키지 단위로 한다.<br>이것은 java 9의 설계한 설계자의 선택이었다.</p>
</li>
<li><p>public 도 exports 해야만 외부에서 참조 가능하다. (Reflection도 불가능하다.)<br>public 은 어디서나 참고가능했었다.<br>패키지 내부는 default 나 protected 나 그런것으로 보호하지 않는 한,<br>완전히 다 열려있는데 모듈이라는 개념이 와서 public 이라도 모든 걸 가져올 수 없게 되었다.<br>한마디로 public 개념 축소되었다.<br>원하는 기능이 있을 때, 오픈소스의 경 소스를 다 볼 수 있었다.<br>근데 그 기능이 Hide된 API 라고 하더라도, 그럴 경우 그 시그너쳐만 따다가,<br>리플렉션으로 동적 호출을 합니다.<br>아예 그런것들이 JVM 단에서 막힌다.<br>그래서 Reflection도 안되게 강력하게 막을 수 있게 되었다.</p>
</li>
</ol>
<ol start="5">
<li><p>동일 패키지는 중복할 수 없음 (Split pakages)<br>순환참조가 없어야하는 제약과 함께,<br>A와 B라는 모듈에서 동일한 패키지명을 가질 수 없는 제약이 생겼다.<br>클래스 이름만 같지 않으면 되었는데, 패키지는 완벽하게 modules의 하위가 되버림.<br>예전에는 전체에서 어떤 패키지를 쓰는지 자유로웠다면,<br>모듈 하위에서 패키지가 들어가므로, 중복되는 이름을 사용할 수 없게 되었다.</p>
</li>
<li><p>JVM 시작시 필요한 모든 클래스를 확인 (Module Resolution)<br>JVM 이 실행할때 모든 클래스를 확인합니다.<br>예전에는 컴파일에서는 확인하지 않고 런타임되었을때 에러났을 부분들을 예방하기 위해서 Module Resolution이라는 모든 클래스를 확인하는 절차가 생겼다.</p>
</li>
<li><p>Custom JDK 만들 수 있음 (JLink)</p>
</li>
</ol>
<p>정상적으로 지원되는 IDE<br>IntelliJ IDEA (2017.9)<br>이클립스 Photom (2018.6) : 아직도 불안정함.<br>ETC. Netbeans 9.0 RC1 (2018.7) 은 아직도 동작못함.(정식버젼아님.)<br>표준 그레들 방식으로 한다면 아직 IntelliJ 형태로 진행하는게 좋다.</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined" rel="external nofollow noopener noreferrer" target="_blank">bymin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://youngclown.github.io/2018/08/2018-08-05-JAVA08_01/">https://youngclown.github.io/2018/08/2018-08-05-JAVA08_01/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noopener noreferrer" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="../2018-08-19-SSHD/"><i class="fa fa-chevron-left">  </i><span>개인 서버 보안 설정</span></a></div><div class="next-post pull-right"><a href="../2018-08-13-openJDK/"><span>OracleJDK 유료화</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2019 By bymin</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" rel="external nofollow noopener noreferrer" target="_blank"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" rel="external nofollow noopener noreferrer" target="_blank"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="../../../js/utils.js?version=1.6.1"></script><script src="../../../js/fancybox.js?version=1.6.1"></script><script src="../../../js/sidebar.js?version=1.6.1"></script><script src="../../../js/copy.js?version=1.6.1"></script><script src="../../../js/fireworks.js?version=1.6.1"></script><script src="../../../js/transition.js?version=1.6.1"></script><script src="../../../js/scroll.js?version=1.6.1"></script><script src="../../../js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>